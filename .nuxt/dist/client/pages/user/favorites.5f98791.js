(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{202:function(t,e,r){},203:function(t,e,r){},211:function(t,e,r){"use strict";var n=r(202);r.n(n).a},212:function(t,e,r){"use strict";var n=r(203);r.n(n).a},213:function(t,e,r){"use strict";r(16);var n=r(2),c=(r(128),{props:{currentNodeId:{type:Number,default:0}},computed:{createTopicUrl:function(){var t="/topic/create";return this.currentNodeId&&(t+="?nodeId="+this.currentNodeId),t}}}),o=(r(211),r(29)),l=Object(o.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"aside-actions"})}),[],!1,null,"2af0916a",null).exports,d=r(66),v={components:{PostBtns:l},props:{user:{type:Object,required:!0}},data:function(){return{}},computed:{currentUser:function(){return this.$store.state.user.current},isOwner:function(){var t=this.$store.state.user.current;return this.user&&t&&this.user.id===t.id},isAdmin:function(){return d.a.isOwner(this.currentUser)||d.a.isAdmin(this.currentUser)}},methods:{forbidden:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/api/user/forbidden",{userId:t.user.id,days:7});case 3:t.user.forbidden=!0,t.$toast.success("禁言成功"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error("禁言失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},removeForbidden:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/api/user/forbidden",{userId:t.user.id,days:0});case 3:t.user.forbidden=!1,t.$toast.success("取消禁言成功"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error("取消禁言失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},f=(r(212),Object(o.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"right-container"},[t.isOwner?r("post-btns"):t._e(),t._v(" "),r("div",{staticClass:"widget"},[r("div",{staticClass:"widget-header"},[t._v("\n      "+t._s(t.user.nickname)+"\n    ")]),t._v(" "),r("div",{staticClass:"widget-content"},[r("img",{staticClass:"img-avatar",attrs:{src:t.user.smallAvatar}}),t._v(" "),t.user.description?r("div",{staticClass:"description"},[r("p",[t._v(t._s(t.user.description))])]):t._e(),t._v(" "),r("div",{staticClass:"score"},[r("i",{staticClass:"iconfont icon-score"}),t._v(" "),r("span",[t._v(t._s(t.user.score))]),t._v(" "),t.isOwner?r("a",{staticClass:"score-log",attrs:{href:"/user/scores",target:"_blank"}},[t._v("积分详情>>")]):t._e()]),t._v(" "),t.isOwner?r("ul",{staticClass:"operations"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.isAdmin?r("ul",{staticClass:"operations"},[t.user.forbidden?r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),t._v(" "),r("a",{on:{click:t.removeForbidden}},[t._v(" 取消禁言")])]):r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),t._v(" "),r("a",{on:{click:t.forbidden}},[t._v(" 禁言")])])]):t._e()])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-edit"}),this._v(" "),e("a",{attrs:{href:"/user/settings"}},[this._v(" 编辑资料")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-message"}),this._v(" "),e("a",{attrs:{href:"/user/messages"}},[this._v(" 消息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-favorites"}),this._v(" "),e("a",{attrs:{href:"/user/favorites"}},[this._v(" 收藏")])])}],!1,null,"3d739100",null));e.a=f.exports},327:function(t,e,r){},446:function(t,e,r){"use strict";var n=r(327);r.n(n).a},556:function(t,e,r){"use strict";r.r(e);r(16);var n=r(2),c={middleware:"authenticated",components:{UserCenterSidebar:r(213).a},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios,t.params;case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{favorites:[],cursor:0,hasMore:!0}},computed:{currentUser:function(){return this.$store.state.user.current}},mounted:function(){this.list()},methods:{list:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/user/favorites",{params:{cursor:t.cursor}});case 2:(r=e.sent).results&&r.results.length?t.favorites=t.favorites.concat(r.results):t.hasMore=!1,t.cursor=r.cursor;case 5:case"end":return e.stop()}}),e)})))()}}},o=(r(446),r(29)),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"main"},[r("div",{staticClass:"container main-container is-white left-main"},[r("div",{staticClass:"left-container"},[r("div",{staticClass:"widget"},[r("div",{staticClass:"widget-header"},[r("nav",{staticClass:"breadcrumb"},[r("ul",[t._m(0),t._v(" "),r("li",[r("a",{attrs:{href:"/user/"+t.currentUser.id}},[t._v(t._s(t.currentUser.nickname))])]),t._v(" "),t._m(1)])])]),t._v(" "),r("div",{staticClass:"widget-content"},[t.favorites&&t.favorites.length?r("ul",{staticClass:"article-list"},[t._l(t.favorites,(function(e){return r("li",{key:e.favoriteId},[e.deleted?r("article",{staticClass:"article-item"},[r("div",{staticClass:"article-summary"},[t._v("\n                  收藏内容失效!!!\n                ")])]):r("article",{staticClass:"article-item"},[r("div",{staticClass:"article-title"},[r("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),t._v(" "),r("div",{staticClass:"article-summary"},[t._v("\n                  "+t._s(e.content)+"\n                ")]),t._v(" "),r("div",{staticClass:"article-meta"},[r("span",{staticClass:"article-meta-item"},[r("a",{attrs:{href:"/user/"+e.user.id}},[t._v(t._s(e.user.nickname))])]),t._v(" "),r("span",{staticClass:"article-meta-item"},[r("time",[t._v(t._s(t._f("prettyDate")(e.createTime)))])])])])])})),t._v(" "),t.hasMore?r("li",{staticClass:"more"},[r("a",{on:{click:t.list}},[t._v("查看更多>>")])]):t._e()],2):t._e()])])]),t._v(" "),r("user-center-sidebar",{attrs:{user:t.currentUser}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"/"}},[this._v("首页")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"is-active"},[e("a",{attrs:{href:"#","aria-current":"page"}},[this._v("收藏列表")])])}],!1,null,"dcf44f9a",null);e.default=component.exports}}]);