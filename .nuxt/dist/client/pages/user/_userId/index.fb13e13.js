(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{199:function(t,e,r){"use strict";r(49),r(85),r(23),r(24),r(9);var n=r(83),o=r(84),c=r(201),l=r.n(c),d=function(){function t(){Object(n.a)(this,t)}return Object(o.a)(t,[{key:"getCity",value:function(){var t=l.a.get("city");return void 0!==t?t:"北京"}},{key:"setCity",value:function(t){return l.a.set("city",t)}},{key:"linkTo",value:function(path){window.location=path}},{key:"toSignin",value:function(t){t||(t=window.location.pathname),this.linkTo("/user/signin?ref="+encodeURIComponent(t))}},{key:"isSigninUrl",value:function(t){return"/user/signin"===t}},{key:"isArray",value:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{key:"isDate",value:function(t){return"[object Date]"==={}.toString.call(t)&&"Invalid Date"!==t.toString()&&!isNaN(t)}},{key:"isElement",value:function(t){return!(!t||!t.nodeName||1!==t.nodeType)}},{key:"isFunction",value:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{key:"unique",value:function(t){return t.filter((function(t,e,r){return r.indexOf(t,0)===e}))}},{key:"isNumber",value:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&isFinite(t)}},{key:"isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"[object String]"===Object.prototype.toString.call(t)}},{key:"isBoolean",value:function(t){return"boolean"==typeof t}},{key:"getCityList",value:function(){return["北京","上海","深圳","武汉","杭州"]}},{key:"isEmpty",value:function(content){var t=content;if(""===t||void 0===t)return!0;return new RegExp("^[ ]+$").test(t)}},{key:"getTopText",value:function(t){return 1===t?"顶":2===t?"火":3===t?"精华":""}},{key:"formatDate",value:function(t,e){e=e||"yyyy-MM-dd HH:mm:ss";var r=new Date(t),n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours()%12,"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e}},{key:"prettyDate",value:function(e){var r=(new Date).getTime()-e;return r/6e4<1?"刚刚":r/6e4<60?parseInt(r/6e4)+"分钟前":r/36e5<=24?parseInt(r/36e5)+"小时前":r/864e5<=30?parseInt(r/864e5)+"天前":t.formatDate(e,"yyyy-MM-dd HH:mm:ss")}}]),t}();e.a=new d},202:function(t,e,r){},203:function(t,e,r){},210:function(t,e,r){"use strict";r(16);var n=r(2),o=(r(218),r(222)),c=r(223),l=r(224),d=r(199),f=r(232);o.c.add(l.b,l.a);var v={components:{FontAwesomeIcon:c.a,SectionTime:f.a},props:{topics:{type:Array,default:function(){return[]},required:!1},showAd:{type:Boolean,default:!1},openNewPage:{type:Boolean,default:!1}},data:function(){return{blank:"",isCollapsed:!0,isCollapsedArray:[]}},watch:{topics:function(t,e){this.topics&&void 0!==this.topics.length&&(this.isCollapsedArray=new Array(this.topics.length).fill(!0))}},mounted:function(){this.openNewPage&&(this.blank="_blank"),console.log("topics:"+JSON.stringify(this.topics)),this.topics&&this.topics.length>0&&(this.isCollapsedArray=new Array(this.topics.length).fill(!0))},methods:{clickCollapse:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e.topics[t].content){r.next=3;break}r.next=13;break;case 3:return r.prev=3,r.next=6,e.$axios.get("/api/topic/"+e.topics[t].topicId);case 6:n=r.sent,e.topics[t].content=n.content,e.topics[t].imageList=n.imageList,r.next=13;break;case 11:r.prev=11,r.t0=r.catch(3);case 13:e.$set(e.isCollapsedArray,t,!e.isCollapsedArray[t]);case 14:case"end":return r.stop()}}),r,null,[[3,11]])})))()},getTopText:function(t){var e=t.topType?t.topType:0;return d.a.getTopText(e)},onCollapseBack:function(t){},checkRentFromDouban:function(t){var e=JSON.parse(t.extraData);return!(!e||"豆瓣租房"!==e.from)&&(t.href=e.href,!1)},like:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.isCollapsed=!e.isCollapsed,r.prev=1,r.next=4,e.$axios.post("/api/topic/like/"+t.topicId);case 4:t.liked=!0,t.likeCount++,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),1===r.t0.errorCode?e.$toast.info("请登录后点赞！！！",{action:{text:"去登录",onClick:function(t,e){d.a.toSignin()}}}):e.$toast.error(r.t0.message||r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}},m=(r(238),r(29)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"topic-list topic-wrap"},t._l(t.topics,(function(e,o){return n("li",{key:e.topicId,staticClass:"topic-item",attrs:{index:o}},[n("article",{attrs:{itemscope:"",itemtype:"http://schema.org/BlogPosting"}},[n("div",{staticClass:"topic-header"},[n("div",{staticClass:"topic-header-left"},[-1===e.user.id?n("a",[n("img",{staticClass:"avatar",attrs:{alt:"90社区",src:r(237)}})]):n("a",{attrs:{href:"/user/"+e.user.id,title:e.user.nickname}},[n("img",{staticClass:"avatar",attrs:{src:e.user.smallAvatar}})])]),t._v(" "),n("div",{staticClass:"topic-header-center"},[n("h1",{staticClass:"topic-title",attrs:{itemprop:"headline"}},[e.node&&2===e.node.nodeId&&t.checkRentFromDouban(e)?n("a",{attrs:{target:t.blank,href:e.href,title:e.title}},[t._v(t._s(e.title))]):e.node&&1===e.node.nodeId?n("a",{attrs:{target:t.blank,href:"/love/"+e.topicId,title:e.title}},[t._v(t._s(e.title))]):n("a",{attrs:{target:t.blank,href:"/topic/"+e.topicId,title:e.title}},[t._v(t._s(e.title))]),t._v(" "),n("span",{class:0!==e.topType?"text-top":""},[t._v(t._s(t.getTopText(e)))])]),t._v(" "),n("div",{staticClass:"topic-meta"},[n("span",{staticClass:"meta-item"},[n("SectionTime",{attrs:{"create-time":e.createTime,hide:e.node&&1===e.node.nodeId}})],1),t._v(" "),n("span",{staticClass:"meta-item"}),t._v(" "),n("span",{staticClass:"meta-item"},[t._l(e.tags,(function(e){return n("span",{key:e.tagName+e.tagId,staticClass:"tag"},[n("a",[t._v(t._s(e.tagName))])])})),t._v(" "),e.node&&2===e.node.nodeId&&!t.checkRentFromDouban(e)?n("span",{attrs:{target:t.blank}},[n("a",{staticClass:"tag",on:{click:function(e){return t.clickCollapse(o)}}},[t._v("展开 \n                  "),t.isCollapsedArray[o]?t._e():n("font-awesome-icon",{attrs:{icon:"angle-down"}}),t._v(" "),t.isCollapsedArray[o]?n("font-awesome-icon",{attrs:{icon:"angle-up"}}):t._e()],1)]):t._e()],2)])]),t._v(" "),n("div",{staticClass:"topic-header-right"},[n("div",{staticClass:"like"},[n("span",{staticClass:"like-btn",class:{liked:e.liked},on:{click:function(r){return t.like(e)}}},[n("i",{staticClass:"iconfont icon-like"})]),t._v(" "),e.likeCount?n("span",{staticClass:"like-count"},[t._v(t._s(e.likeCount))]):t._e()]),t._v(" "),n("span",{staticClass:"count"},[t._v(t._s(e.commentCount)+" / "+t._s(e.viewCount))])])]),t._v(" "),n("div",{staticClass:"card-content",class:{"is-hidden":t.isCollapsedArray[o]}},[n("div",{staticStyle:{"font-size":"13px",color:"black"},domProps:{innerHTML:t._s(e.content)}}),t._v(" "),e.imageList&&e.imageList.length>0?n("a",{staticStyle:{"font-size":"12px",color:"red","text-decoration":"underline"},attrs:{target:t.blank,href:"/rent/"+e.topicId}},[t._v("\n          (有图，点击查看)\n        ")]):n("div",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("\n          (无图）\n        ")])])])])})),0)}),[],!1,null,"f8c533d0",null);e.a=component.exports},211:function(t,e,r){"use strict";var n=r(202);r.n(n).a},212:function(t,e,r){"use strict";var n=r(203);r.n(n).a},213:function(t,e,r){"use strict";r(16);var n=r(2),o=(r(128),{props:{currentNodeId:{type:Number,default:0}},computed:{createTopicUrl:function(){var t="/topic/create";return this.currentNodeId&&(t+="?nodeId="+this.currentNodeId),t}}}),c=(r(211),r(29)),l=Object(c.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"aside-actions"})}),[],!1,null,"2af0916a",null).exports,d=r(66),f={components:{PostBtns:l},props:{user:{type:Object,required:!0}},data:function(){return{}},computed:{currentUser:function(){return this.$store.state.user.current},isOwner:function(){var t=this.$store.state.user.current;return this.user&&t&&this.user.id===t.id},isAdmin:function(){return d.a.isOwner(this.currentUser)||d.a.isAdmin(this.currentUser)}},methods:{forbidden:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/api/user/forbidden",{userId:t.user.id,days:7});case 3:t.user.forbidden=!0,t.$toast.success("禁言成功"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error("禁言失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},removeForbidden:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/api/user/forbidden",{userId:t.user.id,days:0});case 3:t.user.forbidden=!1,t.$toast.success("取消禁言成功"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error("取消禁言失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},v=(r(212),Object(c.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"right-container"},[t.isOwner?r("post-btns"):t._e(),t._v(" "),r("div",{staticClass:"widget"},[r("div",{staticClass:"widget-header"},[t._v("\n      "+t._s(t.user.nickname)+"\n    ")]),t._v(" "),r("div",{staticClass:"widget-content"},[r("img",{staticClass:"img-avatar",attrs:{src:t.user.smallAvatar}}),t._v(" "),t.user.description?r("div",{staticClass:"description"},[r("p",[t._v(t._s(t.user.description))])]):t._e(),t._v(" "),r("div",{staticClass:"score"},[r("i",{staticClass:"iconfont icon-score"}),t._v(" "),r("span",[t._v(t._s(t.user.score))]),t._v(" "),t.isOwner?r("a",{staticClass:"score-log",attrs:{href:"/user/scores",target:"_blank"}},[t._v("积分详情>>")]):t._e()]),t._v(" "),t.isOwner?r("ul",{staticClass:"operations"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.isAdmin?r("ul",{staticClass:"operations"},[t.user.forbidden?r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),t._v(" "),r("a",{on:{click:t.removeForbidden}},[t._v(" 取消禁言")])]):r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),t._v(" "),r("a",{on:{click:t.forbidden}},[t._v(" 禁言")])])]):t._e()])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-edit"}),this._v(" "),e("a",{attrs:{href:"/user/settings"}},[this._v(" 编辑资料")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-message"}),this._v(" "),e("a",{attrs:{href:"/user/messages"}},[this._v(" 消息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-favorites"}),this._v(" "),e("a",{attrs:{href:"/user/favorites"}},[this._v(" 收藏")])])}],!1,null,"3d739100",null));e.a=v.exports},216:function(t,e,r){},218:function(t,e,r){var n=r(6);n(n.P,"Array",{fill:r(220)}),r(86)("fill")},219:function(t,e,r){t.exports=r.p+"img/net.1e01d6d.png"},220:function(t,e,r){"use strict";var n=r(32),o=r(129),c=r(19);t.exports=function(t){for(var e=n(this),r=c(e.length),l=arguments.length,d=o(l>1?arguments[1]:void 0,r),f=l>2?arguments[2]:void 0,v=void 0===f?r:o(f,r);v>d;)e[d++]=t;return e}},232:function(t,e,r){"use strict";r(128);var n={components:{},props:{createTime:{type:Number},hide:{type:Boolean,required:!1}},data:function(){return{isCollapsed:!0}},watch:{isCollapsed:function(t){this.onCollapsed&&this.onCollapsed(t)}},mounted:function(){this.id},methods:{prettyDate:function(t){var e=864e5,r=(new Date).getTime()-t;return r/6e4<1?"刚刚":r/6e4<60?parseInt(r/6e4)+"分钟前":r/36e5<=24?parseInt(r/36e5)+"小时前":r/e<=7?"一周以内":r/e<=30?"一个月以内":r/e<=180?"半年以内":r/e<=360?"一年以内":"一年以前"}}},o=r(29),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{staticClass:"comment-time"},[t.hide?r("span",[t._v("\n    "+t._s(t.prettyDate(t.createTime))+"\n  ")]):r("time",{attrs:{datetime:t._f("formatDate")(t.createTime,"yyyy-MM-ddTHH:mm:ss"),itemprop:"datePublished"}},[t._v(t._s(t._f("prettyDate")(t.createTime)))])])}),[],!1,null,"22aab805",null);e.a=component.exports},237:function(t,e,r){t.exports=r.p+"img/douban.4b75e01.png"},238:function(t,e,r){"use strict";var n=r(216);r.n(n).a},242:function(t,e,r){},251:function(t,e,r){"use strict";var n={props:{articles:{type:Array,default:function(){return[]},required:!1},showAd:{type:Boolean,default:!1}}},o=r(29),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"article-list"},t._l(t.articles,(function(article,e){return r("li",{key:article.articleId},[t.showAd&&0!==e&&e%3==0?r("div"):t._e(),t._v(" "),r("article",{staticClass:"article-item",attrs:{itemscope:"",itemtype:"http://schema.org/BlogPosting"}},[r("h1",{staticClass:"article-title",attrs:{itemprop:"headline"}},[r("a",{attrs:{href:"/article/"+article.articleId}},[t._v(t._s(article.title))])]),t._v(" "),r("div",{staticClass:"article-summary",attrs:{itemprop:"description"}},[t._v("\n        "+t._s(article.summary)+"\n      ")]),t._v(" "),r("div",{staticClass:"article-meta"},[r("span",{staticClass:"article-meta-item"},[t._v("\n          由\n          "),r("a",{staticClass:"article-author",attrs:{href:"/user/"+article.user.id,itemprop:"author",itemscope:"",itemtype:"http://schema.org/Person"}},[r("span",{attrs:{itemprop:"name"}},[t._v(t._s(article.user.nickname))])]),t._v("发布于\n          "),r("time",{attrs:{datetime:t._f("formatDate")(article.createTime,"yyyy-MM-ddTHH:mm:ss"),itemprop:"datePublished"}},[t._v(t._s(t._f("prettyDate")(article.createTime)))])]),t._v(" "),article.tags&&article.tags.length>0?r("span",{staticClass:"article-meta-item"},t._l(article.tags,(function(e){return r("span",{key:e.tagId,staticClass:"article-tag tag"},[r("a",{attrs:{href:"/articles/"+e.tagId}},[t._v(t._s(e.tagName))])])})),0):t._e(),t._v(" "),2===article.status?r("span",{staticClass:"article-meta-item"},[t._m(0,!0)]):t._e()])])])})),0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticStyle:{cursor:"default","text-decoration":"none",color:"green","font-size":"12px"},attrs:{href:"javascript:void(0)"}},[e("i",{staticClass:"iconfont icon-shenhe"}),this._v(" 审核中")])}],!1,null,"3cde4248",null);e.a=component.exports},308:function(t,e,r){"use strict";var n=r(242);r.n(n).a},350:function(t,e,r){},377:function(t,e,r){"use strict";var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"topic-header-left"},[e("a",[e("img",{staticClass:"avatar",attrs:{alt:"90社区",src:r(219)}})])])}],o=(r(49),r(16),r(2)),c=(r(218),r(222)),l=r(223),d=r(224),f=r(199),v=(r(128),{components:{},props:{createTime:{type:Number},hide:{type:Boolean,required:!1}},data:function(){return{isCollapsed:!0}},watch:{isCollapsed:function(t){this.onCollapsed&&this.onCollapsed(t)}},mounted:function(){this.id},methods:{prettyDate:function(t){return f.a.formatDate(t,"yyyy-MM-dd")}}}),m=r(29),_=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{staticClass:"comment-time"},[t.hide?r("time",{attrs:{datetime:t._f("formatDate")(t.createTime,"yyyy-MM-dd"),itemprop:"datePublished"}},[t._v(t._s(t._f("prettyDate")(t.createTime)))]):r("span",[t._v("\n    "+t._s(t.prettyDate(t.createTime))+"\n  ")])])}),[],!1,null,"06354053",null).exports;c.c.add(d.b,d.a);var h={components:{FontAwesomeIcon:l.a,TiaojiSectionTime:_},props:{topics:{type:Array,default:function(){return[]},required:!1},showAd:{type:Boolean,default:!1},openNewPage:{type:Boolean,default:!1}},data:function(){return{blank:"",isCollapsed:!0,isCollapsedArray:[]}},watch:{topics:function(t,e){this.topics&&void 0!==this.topics.length&&(this.isCollapsedArray=new Array(this.topics.length).fill(!0))}},mounted:function(){this.openNewPage&&(this.blank="_blank"),this.topics&&this.topics.length>0&&(this.isCollapsedArray=new Array(this.topics.length).fill(!0))},methods:{clickCollapse:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==e.topics[t].description){r.next=11;break}return r.prev=1,r.next=4,e.$axios.get("/api/tiaoji"+e.topics[t].post_url);case 4:n=r.sent,e.topics[t].description=n.description,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:e.$set(e.isCollapsedArray,t,!e.isCollapsedArray[t]);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},buildCollapseBody:function(t){return"学校："+t.colleage_name+"\n专业："+this.formatMajorsConntent(t)+"\n\n"+t.description},formatMajorsConntent:function(t){var e="-";return""!==t.major_top_class&&(e=t.major_top_class),""!==t.major_top_class&&(e+="->"+t.major_second_class),""!==t.major_top_class&&(e+="->"+t.major_third_class),e},formatText2Html:function(t){var html=t;return html&&(html=(html=html.replace(/ /g,"&nbsp;")).replace(/\n/g,"<br/>")),html},getTopText:function(t){var e=t.topType?t.topType:0;return f.a.getTopText(e)},onCollapseBack:function(t){},like:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.isCollapsed=!e.isCollapsed,r.prev=1,r.next=4,e.$axios.post("/api/topic/like/"+t.topicId);case 4:t.liked=!0,t.likeCount++,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),1===r.t0.errorCode?e.$toast.info("请登录后点赞！！！",{action:{text:"去登录",onClick:function(t,e){f.a.toSignin()}}}):e.$toast.error(r.t0.message||r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}},y=(r(308),Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"topic-list topic-wrap"},t._l(t.topics,(function(e,n){return r("li",{key:e.post_url,staticClass:"topic-item",attrs:{index:n}},[r("article",{attrs:{itemscope:"",itemtype:"http://schema.org/BlogPosting"}},[r("div",{staticClass:"topic-header"},[t._m(0,!0),t._v(" "),r("div",{staticClass:"topic-header-center"},[r("h1",{staticClass:"topic-title",attrs:{itemprop:"headline"}},[r("a",{attrs:{target:t.blank,href:"/tiaoji"+e.post_url,title:e.post_title}},[t._v(t._s(e.post_title))])]),t._v(" "),r("div",{staticClass:"topic-meta"},[r("span",{staticClass:"meta-item"},[r("TiaojiSectionTime",{attrs:{"create-time":e.post_datetime,hide:!1}})],1),t._v(" "),r("span",{staticClass:"meta-item"},[t._l(e.tags,(function(e){return r("span",{key:e.tagName+e.tagId,staticClass:"tag"},[r("a",[t._v(t._s(e.tagName))])])})),t._v(" "),r("span",{attrs:{target:t.blank}},[r("a",{staticClass:"tag",on:{click:function(e){return t.clickCollapse(n)}}},[t._v("展开 \n                  "),t.isCollapsedArray[n]?t._e():r("font-awesome-icon",{attrs:{icon:"angle-down"}}),t._v(" "),t.isCollapsedArray[n]?r("font-awesome-icon",{attrs:{icon:"angle-up"}}):t._e()],1)])],2)])])]),t._v(" "),r("div",{staticClass:"card-content",class:{"is-hidden":t.isCollapsedArray[n]}},[r("div",{staticStyle:{"font-size":"13px",color:"black"},domProps:{innerHTML:t._s(t.formatText2Html(t.buildCollapseBody(e)))}})])])])})),0)}),n,!1,null,"4d2ac4b9",null));e.a=y.exports},474:function(t,e,r){"use strict";var n=r(350);r.n(n).a},604:function(t,e,r){"use strict";r.r(e);r(16);var n=r(2),o=r(377),c=r(210),l=r(251),d=r(213),f={components:{TopicList:c.a,ArticleList:l.a,TiaojiTopicList:o.a,UserCenterSidebar:d.a},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,n=t.params,o=t.query,c=t.error,e.prev=1,e.next=4,r.get("/api/user/"+n.userId);case 4:l=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),c({statusCode:404,message:e.t0.message||"系统错误"}),e.abrupt("return");case 11:if(d=o.tab||"tiaojiPosts",f=null,v=null,m=null,"topics"!==d){e.next=21;break}return e.next=18,r.get("/api/topic/user/recent",{params:{userId:n.userId}});case 18:f=e.sent,e.next=31;break;case 21:if("articles"!==d){e.next=27;break}return e.next=24,r.get("/api/article/user/recent",{params:{userId:n.userId}});case 24:v=e.sent,e.next=31;break;case 27:if("tiaojiPosts"!==d){e.next=31;break}return e.next=30,r.get("/api/tiaoji/user/recent",{params:{userId:n.userId}});case 30:m=e.sent;case 31:return e.abrupt("return",{activeTab:d,user:l,recentTopics:f,recentArticles:v,recentTiaojiPosts:m});case 32:case"end":return e.stop()}}),e,null,[[1,7]])})))()},data:function(){return{}},computed:{currentUser:function(){return this.$store.state.user.current},isOwner:function(){var t=this.$store.state.user.current;return this.user&&t&&this.user.id===t.id}},head:function(){return{title:this.$siteTitle(this.user.nickname)}}},v=(r(474),r(29)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"main"},[r("div",{staticClass:"container main-container is-white left-main"},[r("div",{staticClass:"left-container"},[r("div",{staticClass:"tabs"},[r("ul",[r("li",{class:{"is-active":"topics"===t.activeTab}},[r("a",{attrs:{href:"/user/"+t.user.id+"?tab=topics"}},[t._m(0),t._v(" "),r("span",[t._v("话题")])])]),t._v(" "),r("li",{class:{"is-active":"articles"===t.activeTab}},[r("a",{attrs:{href:"/user/"+t.user.id+"?tab=articles"}},[t._m(1),t._v(" "),r("span",[t._v("文章")])])]),t._v(" "),r("li",{class:{"is-active":"tiaojiPosts"===t.activeTab}},[r("a",{attrs:{href:"/user/"+t.user.id+"?tab=tiaojiPosts"}},[t._m(2),t._v(" "),r("span",[t._v("调剂帖子")])])])])]),t._v(" "),"topics"===t.activeTab?r("div",[t.recentTopics&&t.recentTopics.length?r("div",[r("topic-list",{attrs:{topics:t.recentTopics}}),t._v(" "),r("div",{staticClass:"more"},[r("a",{attrs:{href:"/user/"+t.user.id+"/topics"}},[t._v("查看更多>>")])])],1):r("div",{staticClass:"notification is-primary",staticStyle:{"margin-top":"10px"}},[t._v("\n          暂无话题\n        ")])]):t._e(),t._v(" "),"articles"===t.activeTab?r("div",[t.recentArticles&&t.recentArticles.length?r("div",[r("article-list",{attrs:{articles:t.recentArticles}}),t._v(" "),r("div",{staticClass:"more"},[r("a",{attrs:{href:"/user/"+t.user.id+"/articles"}},[t._v("查看更多>>")])])],1):r("div",{staticClass:"notification is-primary",staticStyle:{"margin-top":"10px"}},[t._v("\n          暂无文章\n        ")])]):t._e(),t._v(" "),"tiaojiPosts"===t.activeTab?r("div",[t.recentTiaojiPosts&&t.recentTiaojiPosts.length?r("div",[r("tiaoji-topic-list",{attrs:{topics:t.recentTiaojiPosts}}),t._v(" "),r("div",{staticClass:"more"},[r("a",{attrs:{href:"/user/"+t.user.id+"/tiaojiPosts"}},[t._v("查看更多>>")])])],1):r("div",{staticClass:"notification is-primary",staticStyle:{"margin-top":"10px"}},[t._v("\n          暂无文章\n        ")])]):t._e()]),t._v(" "),r("user-center-sidebar",{attrs:{user:t.user}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"iconfont icon-topic",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"iconfont icon-article",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"iconfont icon-article",attrs:{"aria-hidden":"true"}})])}],!1,null,"d0bab752",null);e.default=component.exports}}]);