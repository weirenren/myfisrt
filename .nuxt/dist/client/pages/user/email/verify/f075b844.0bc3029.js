(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{199:function(e,t,r){"use strict";var n=r(4),c=r(21),o=r(28),f=r(133),d=r(65),l=r(11),v=r(50).f,_=r(66).f,h=r(10).f,m=r(201).trim,C=n.Number,w=C,N=C.prototype,I="Number"==o(r(88)(N)),x="trim"in String.prototype,E=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var r,n,c,o=(t=x?t.trim():m(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+t}for(var code,f=t.slice(2),i=0,l=f.length;i<l;i++)if((code=f.charCodeAt(i))<48||code>c)return NaN;return parseInt(f,n)}}return+t};if(!C(" 0o1")||!C("0b1")||C("+0x1")){C=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof C&&(I?l((function(){N.valueOf.call(r)})):"Number"!=o(r))?f(new w(E(t)),r,C):E(t)};for(var $,k=r(9)?v(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)c(w,$=k[A])&&!c(C,$)&&h(C,$,_(w,$));C.prototype=N,N.constructor=C,r(12)(n,"Number",C)}},201:function(e,t,r){var n=r(6),c=r(27),o=r(11),f=r(202),d="["+f+"]",l=RegExp("^"+d+d+"*"),v=RegExp(d+d+"*$"),_=function(e,t,r){var c={},d=o((function(){return!!f[e]()||"​"!="​"[e]()})),l=c[e]=d?t(h):f[e];r&&(c[r]=l),n(n.P+n.F*d,"String",c)},h=_.trim=function(e,t){return e=String(c(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(v,"")),e};e.exports=_},202:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},207:function(e,t,r){},208:function(e,t,r){},218:function(e,t,r){"use strict";var n=r(207);r.n(n).a},219:function(e,t,r){"use strict";var n=r(208);r.n(n).a},220:function(e,t,r){"use strict";r(15);var n=r(2),c=(r(199),{props:{currentNodeId:{type:Number,default:0}},computed:{createTopicUrl:function(){var e="/topic/create";return this.currentNodeId&&(e+="?nodeId="+this.currentNodeId),e}}}),o=(r(218),r(49)),f=Object(o.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"aside-actions"})}),[],!1,null,"2af0916a",null).exports,d=r(67),l={components:{PostBtns:f},props:{user:{type:Object,required:!0}},data:function(){return{}},computed:{currentUser:function(){return this.$store.state.user.current},isOwner:function(){var e=this.$store.state.user.current;return this.user&&e&&this.user.id===e.id},isAdmin:function(){return d.a.isOwner(this.currentUser)||d.a.isAdmin(this.currentUser)}},methods:{forbidden:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("/api/user/forbidden",{userId:e.user.id,days:7});case 3:e.user.forbidden=!0,e.$toast.success("禁言成功"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$toast.error("禁言失败");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},removeForbidden:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("/api/user/forbidden",{userId:e.user.id,days:0});case 3:e.user.forbidden=!1,e.$toast.success("取消禁言成功"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$toast.error("取消禁言失败");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},v=(r(219),Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right-container"},[e.isOwner?r("post-btns"):e._e(),e._v(" "),r("div",{staticClass:"widget"},[r("div",{staticClass:"widget-header"},[e._v("\n      "+e._s(e.user.nickname)+"\n    ")]),e._v(" "),r("div",{staticClass:"widget-content"},[r("img",{staticClass:"img-avatar",attrs:{src:e.user.smallAvatar}}),e._v(" "),e.user.description?r("div",{staticClass:"description"},[r("p",[e._v(e._s(e.user.description))])]):e._e(),e._v(" "),r("div",{staticClass:"score"},[r("i",{staticClass:"iconfont icon-score"}),e._v(" "),r("span",[e._v(e._s(e.user.score))]),e._v(" "),e.isOwner?r("a",{staticClass:"score-log",attrs:{href:"/user/scores",target:"_blank"}},[e._v("积分详情>>")]):e._e()]),e._v(" "),e.isOwner?r("ul",{staticClass:"operations"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)]):e._e(),e._v(" "),e.isAdmin?r("ul",{staticClass:"operations"},[e.user.forbidden?r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),e._v(" "),r("a",{on:{click:e.removeForbidden}},[e._v(" 取消禁言")])]):r("li",[r("i",{staticClass:"iconfont icon-forbidden"}),e._v(" "),r("a",{on:{click:e.forbidden}},[e._v(" 禁言")])])]):e._e()])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"iconfont icon-edit"}),this._v(" "),t("a",{attrs:{href:"/user/settings"}},[this._v(" 编辑资料")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"iconfont icon-message"}),this._v(" "),t("a",{attrs:{href:"/user/messages"}},[this._v(" 消息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"iconfont icon-favorites"}),this._v(" "),t("a",{attrs:{href:"/user/favorites"}},[this._v(" 收藏")])])}],!1,null,"3d739100",null));t.a=v.exports},490:function(e,t,r){"use strict";r.r(t);r(15);var n=r(2),c={middleware:"authenticated",components:{UserCenterSidebar:r(220).a},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,n=e.query,t.prev=1,t.next=4,r.get("/api/user/email/verify?token="+n.token);case 4:return t.abrupt("return",{success:!0});case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",{success:!1,message:t.t0.message||""});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},computed:{currentUser:function(){return this.$store.state.user.current}}},o=r(49),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main"},[r("div",{staticClass:"container main-container is-white left-main"},[r("div",{staticClass:"left-container"},[r("div",{staticClass:"widget"},[r("div",{staticClass:"widget-header"},[e._v("邮箱验证")]),e._v(" "),r("div",{staticClass:"widget-content"},[e.success?r("div",[e._v("\n            恭喜，邮箱验证成功。你的邮箱为："+e._s(e.currentUser.email)+"，"),r("a",{attrs:{href:"/user/settings"}},[e._v("点击前往资料页")])]):r("div",[e._v("\n            邮箱验证失败"),e.message?r("span",{staticClass:"has-text-danger"},[e._v(" 原因："+e._s(e.message))]):e._e(),e._v("，请前往 "),r("a",{attrs:{href:"/user/settings"}},[e._v("编辑资料")]),e._v(" 页面尝试重新发送验证邮件。\n          ")])])])]),e._v(" "),r("user-center-sidebar",{attrs:{user:e.currentUser}})],1)])}),[],!1,null,"bb264aa0",null);t.default=component.exports}}]);