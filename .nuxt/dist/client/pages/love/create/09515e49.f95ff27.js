(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{283:function(t,e,o){},370:function(t,e,o){"use strict";var l=o(283);o.n(l).a},475:function(t,e,o){"use strict";o.r(e);o(15);var l=o(2),r=(o(22),o(23),o(8),o(326)),c=o.n(r),n=o(200),d={components:{PostTweets:o(241).a},data:function(){return{publishing:!1,captchaId:"",captchaUrl:"",captchaCode:"",maxWordCount:1e3,showUploader:!1,maxImageCount:9,images:[],postForm:{tags:["交友"],nodeId:1,title:"",me_city:"",me_age:"",me_height:"",me_wechat_show:"否",me_photos_show:"是",me_gender:"男",me_edu:"",me_work_city:"",me_work_company:"",me_hobby:"",me_wechat:"",me_other_info:"",me_photos:[],he_city:"无",he_age:"",he_height:"",he_gender:1,he_edu:"",he_work_city:"",he_other_info:""}}},mounted:function(){var t=this;c.a.attach(".steps",{beforeNext:function(l){switch(l){case 0:return e();case 1:return o();case 2:if(n.a.isEmpty(t.postForm.title))return t.$toast.error("请按照要求填满所有信息"),[{}]}},onError:function(t){console.log(t)},onFinish:function(t){console.log(t)}});var e=function(){var e=[];return(n.a.isEmpty(t.postForm.me_city)||n.a.isEmpty(t.postForm.me_age)||n.a.isEmpty(t.postForm.me_edu)||n.a.isEmpty(t.postForm.me_height)||n.a.isEmpty(t.postForm.me_gender)||n.a.isEmpty(t.postForm.me_work_city)||n.a.isEmpty(t.postForm.me_work_company)||n.a.isEmpty(t.postForm.me_hobby)||n.a.isEmpty(t.postForm.me_wechat)||n.a.isEmpty(t.postForm.me_other_info)||0===t.images.length)&&(t.$toast.error("请按照要求填满所有信息及照片"),e.push("")),e},o=function(){var e=[];return(n.a.isEmpty(t.postForm.he_city)||n.a.isEmpty(t.postForm.he_height)||n.a.isEmpty(t.postForm.he_age)||n.a.isEmpty(t.postForm.he_edu)||n.a.isEmpty(t.postForm.he_work_city)||n.a.isEmpty(t.postForm.he_other_info))&&(t.$toast.error("请按照要求填满所有信息"),e.push("")),e}},methods:{configData:function(){return{title:this.postForm.title,me_city:this.postForm.me_city,me_age:this.postForm.me_age,me_height:this.postForm.me_height,me_gender:this.postForm.me_gender,me_wechat_show:this.postForm.me_wechat_show,me_photos_show:this.postForm.me_photos_show,me_edu:this.postForm.me_edu,me_work_city:this.postForm.me_work_city,me_work_company:this.postForm.me_work_company,me_hobby:this.postForm.me_hobby,me_wechat:this.postForm.me_wechat,me_other_info:this.postForm.me_other_info,me_photos:this.images.toString(),he_city:this.postForm.he_city,he_age:this.postForm.he_age,he_height:this.postForm.he_height,he_gender:this.postForm.he_gender,he_edu:this.postForm.he_edu,he_work_city:this.postForm.he_work_city,he_other_info:this.postForm.he_other_info}},submit:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.publishing){e.next=2;break}return e.abrupt("return");case 2:if(t.postForm.title){e.next=5;break}return t.$toast.error("请输入标题"),e.abrupt("return");case 5:if(t.postForm.nodeId){e.next=8;break}return t.$toast.error("请选择节点"),e.abrupt("return");case 8:return t.publishing=!0,e.prev=9,e.next=12,t.$axios.post("/api/topic/create",{city:n.a.getCity(),captchaId:t.captchaId,captchaCode:t.captchaCode,nodeId:t.postForm.nodeId,title:t.postForm.title,imageList:t.images.toString(),content:"",extraData:JSON.stringify(t.configData()),tags:t.postForm.tags?t.postForm.tags.join(","):""});case 12:o=e.sent,t.$toast.success("提交成功",{duration:1e3,onComplete:function(){n.a.linkTo("/love/"+o.topicId)}}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),t.publishing=!1,t.$toast.error("提交失败："+(e.t0.message||e.t0));case 20:case"end":return e.stop()}}),e,null,[[9,16]])})))()},onImageUpload:function(t){this.images=t}}},m=(o(370),o(49)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("client-only",[o("div",{staticClass:"steps content-body",attrs:{id:"stepsDemo"}},[o("div",{staticClass:"step-item is-active is-success"},[o("div",{staticClass:"step-marker"},[t._v("1")]),t._v(" "),o("div",{staticClass:"step-details"},[o("p",{staticClass:"step-title"},[t._v("个人信息填写")])])]),t._v(" "),o("div",{staticClass:"step-item"},[o("div",{staticClass:"step-marker"},[t._v("2")]),t._v(" "),o("div",{staticClass:"step-details"},[o("p",{staticClass:"step-title"},[t._v("择偶要求填写")])])]),t._v(" "),o("div",{staticClass:"step-item"},[o("div",{staticClass:"step-marker"},[t._v("3")]),t._v(" "),o("div",{staticClass:"step-details"},[o("p",{staticClass:"step-title"},[t._v("确认信息")])])]),t._v(" "),o("div",{staticClass:"steps-content step-content-max"},[o("div",{staticClass:"step-content has-text-centered is-active"},[o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("性别")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("div",{staticClass:"select is-small"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_gender,expression:"postForm.me_gender"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.postForm,"me_gender",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"男"}},[t._v("男")]),t._v(" "),o("option",{attrs:{value:"女"}},[t._v("女")])])])])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("家乡")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_city,expression:"postForm.me_city"}],staticClass:"input",attrs:{id:"username",name:"username",type:"text",autofocus:"",placeholder:"湖北武汉","data-validate":"require"},domProps:{value:t.postForm.me_city},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_city",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("年龄")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_age,expression:"postForm.me_age"}],staticClass:"input",attrs:{type:"text",placeholder:"28","data-validate":"require"},domProps:{value:t.postForm.me_age},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_age",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("身高")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_height,expression:"postForm.me_height"}],staticClass:"input",attrs:{type:"text",placeholder:"170","data-validate":"require"},domProps:{value:t.postForm.me_height},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_height",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("学历")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_edu,expression:"postForm.me_edu"}],staticClass:"input",attrs:{type:"text",placeholder:"大学本科","data-validate":"require"},domProps:{value:t.postForm.me_edu},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_edu",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("工作所在城市")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_work_city,expression:"postForm.me_work_city"}],staticClass:"input",attrs:{type:"text",placeholder:"北京","data-validate":"require"},domProps:{value:t.postForm.me_work_city},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_work_city",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("单位及工作")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_work_company,expression:"postForm.me_work_company"}],staticClass:"input",attrs:{type:"text",placeholder:"百度研发工程师","data-validate":"require"},domProps:{value:t.postForm.me_work_company},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_work_company",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("兴趣爱好")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_hobby,expression:"postForm.me_hobby"}],staticClass:"textarea",attrs:{type:"text",placeholder:"eg: 游泳健身、偶尔嘻哈beatbox freestyle一下","data-validate":"require"},domProps:{value:t.postForm.me_hobby},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_hobby",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("个人微信")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_wechat,expression:"postForm.me_wechat"}],staticClass:"input",attrs:{type:"text",placeholder:"（注：网站会保密，不对外展示）","data-validate":"require"},domProps:{value:t.postForm.me_wechat},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_wechat",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("帖子展示微信")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("div",{staticClass:"select is-small"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_wechat_show,expression:"postForm.me_wechat_show"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.postForm,"me_wechat_show",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"否"}},[t._v("否")]),t._v(" "),o("option",{attrs:{value:"是"}},[t._v("是")])])])])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("择偶观")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_other_info,expression:"postForm.me_other_info"}],staticClass:"textarea",attrs:{type:"text",placeholder:"1.个人交友观","data-validate":"require"},domProps:{value:t.postForm.me_other_info},on:{input:function(e){e.target.composing||t.$set(t.postForm,"me_other_info",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("个人照片")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("post-tweets",{attrs:{"on-image-upload-call-back":t.onImageUpload}})],1)])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("帖子展示照片")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("div",{staticClass:"select is-small"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.postForm.me_photos_show,expression:"postForm.me_photos_show"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.postForm,"me_photos_show",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"否"}},[t._v("否")]),t._v(" "),o("option",{attrs:{value:"是"}},[t._v("是")])])])])])])])]),t._v(" "),o("div",{staticClass:"step-content has-text-centered"},[o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("家乡")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_city,expression:"postForm.he_city"}],staticClass:"input",attrs:{type:"text",placeholder:"无",autofocus:"","data-validate":"require"},domProps:{value:t.postForm.he_city},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_city",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("年龄")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_age,expression:"postForm.he_age"}],staticClass:"input",attrs:{type:"text",placeholder:"25~30","data-validate":"require"},domProps:{value:t.postForm.he_age},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_age",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("身高")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_height,expression:"postForm.he_height"}],staticClass:"input",attrs:{id:"firstname",name:"firstname",type:"text",placeholder:"160以上","data-validate":"require"},domProps:{value:t.postForm.he_height},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_height",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("学历")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_edu,expression:"postForm.he_edu"}],staticClass:"input",attrs:{type:"text",placeholder:"本科以上","data-validate":"require"},domProps:{value:t.postForm.he_edu},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_edu",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("工作城市")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_work_city,expression:"postForm.he_work_city"}],staticClass:"input",attrs:{type:"text",placeholder:"北京","data-validate":"require"},domProps:{value:t.postForm.he_work_city},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_work_city",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("其他择偶要求")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control has-icon has-icon-right"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postForm.he_other_info,expression:"postForm.he_other_info"}],staticClass:"textarea",attrs:{id:"email",type:"text",name:"email",placeholder:"温柔女生","data-validate":"require"},domProps:{value:t.postForm.he_other_info},on:{input:function(e){e.target.composing||t.$set(t.postForm,"he_other_info",e.target.value)}}})])])])])]),t._v(" "),o("div",{staticClass:"step-content has-text-centered"},[o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-label is-normal"},[o("label",{staticClass:"label"},[t._v("一句话介绍自己")])]),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.title,expression:"postForm.title"}],staticClass:"input",attrs:{id:"facebook",name:"facebook",type:"text",autofocus:"",placeholder:"90学霸美女/帅哥","data-validate":"require"},domProps:{value:t.postForm.title},on:{input:function(e){e.target.composing||t.$set(t.postForm,"title",e.target.value)}}})])])])]),t._v(" "),o("div",{staticClass:"content topic-content",attrs:{itemprop:"articleBody"}},[t._v("\n            个人基本信息:\n            "),t._v(" "),o("article",{staticClass:"message"},[o("div",{staticClass:"message-body"},[o("table",{staticClass:"table is-striped is-fullwidth"},[o("tbody",[o("tr",[o("td",[t._v("性别：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_gender))])]),t._v(" "),o("tr",[o("td",[t._v("家乡：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_city))])]),t._v(" "),o("tr",[o("td",[t._v("年龄：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_age))])]),t._v(" "),o("tr",[o("td",[t._v("身高：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_height))])]),t._v(" "),o("tr",[o("td",[t._v("学历：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_edu))])]),t._v(" "),o("tr",[o("td",[t._v("工作城市：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_work_city))])]),t._v(" "),o("tr",[o("td",[t._v("工作单位：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_work_company))])]),t._v(" "),o("tr",[o("td",[t._v("兴趣爱好：")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_hobby))])]),t._v(" "),o("tr",[o("td",[t._v("微信")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_wechat))])]),t._v(" "),o("tr",[o("td",[t._v("其它")]),t._v(" "),o("td",[t._v(t._s(t.postForm.me_other_info))])])])])])]),t._v("\n            择偶要求:\n            "),o("article",{staticClass:"message is-success"},[o("div",{staticClass:"message-body"},[o("table",{staticClass:"table is-striped is-fullwidth"},[o("tbody",[o("tr",[o("td",[t._v("家乡")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_city))])]),t._v(" "),o("tr",[o("td",[t._v("年龄")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_age))])]),t._v(" "),o("tr",[o("td",[t._v("身高")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_height))])]),t._v(" "),o("tr",[o("td",[t._v("学历要求")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_edu))])]),t._v(" "),o("tr",[o("td",[t._v("工作城市")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_work_city))])]),t._v(" "),o("tr",[o("td",[t._v("其它")]),t._v(" "),o("td",[t._v(t._s(t.postForm.he_other_info))])])])])])]),t._v(" "),t.images&&t.images.length>0?o("div",t._l(t.images,(function(image){return o("div",{key:image},[o("div",{staticClass:"image-item img_wrapper"},[o("img",{attrs:{src:image,"data-src":image}})])])})),0):t._e()]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("button",{staticClass:"button is-primary",on:{click:t.submit}},[t._v("\n                    确认提交\n                  ")])])])])])])]),t._v(" "),o("div",{staticClass:"steps-actions"},[o("div",{staticClass:"steps-action"},[o("a",{staticClass:"button is-light",attrs:{href:"#","data-nav":"previous"}},[t._v("Previous")])]),t._v(" "),o("div",{staticClass:"steps-action"},[o("a",{staticClass:"button is-light",attrs:{href:"#","data-nav":"next"}},[t._v("Next")])])])])])],1)}),[],!1,null,"2574696a",null);e.default=component.exports}}]);