{"version":3,"file":"pages/links/_page.js","sources":["webpack:///./pages/links/_page.vue?8288","webpack:///./pages/links/_page.vue","webpack:///./pages/links/_page.vue?8711","webpack:///./pages/links/_page.vue?f47b","webpack:///./components/Pagination.vue?562a","webpack:///./components/Pagination.vue?b5b3","webpack:///./components/Pagination.vue?7b45","webpack:///./components/Pagination.vue","webpack:///./components/Pagination.vue?6312","webpack:///./components/Pagination.vue?af27","webpack:///./assets/images/net.png"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main\"},[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-b4259224>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"main-body\\\" data-v-b4259224>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"widget\\\" data-v-b4259224>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"widget-header\\\" data-v-b4259224>友情链接</div> \"),_vm._ssrNode(\"<div class=\\\"widget-content\\\" data-v-b4259224>\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"links\\\" data-v-b4259224>\"+(_vm._ssrList((_vm.linksPage.results),function(link){return (\"<li class=\\\"link\\\" data-v-b4259224><div class=\\\"link-logo\\\" data-v-b4259224>\"+((link.logo)?(\"<img\"+(_vm._ssrAttr(\"src\",link.logo))+\" data-v-b4259224>\"):\"<!---->\")+\" \"+((!link.logo)?(\"<img\"+(_vm._ssrAttr(\"src\",require(\"assets/images/net.png\")))+\" data-v-b4259224>\"):\"<!---->\")+\"</div> <div class=\\\"link-content\\\" data-v-b4259224><a\"+(_vm._ssrAttr(\"href\",link.url))+(_vm._ssrAttr(\"title\",link.title))+\" target=\\\"_blank\\\" class=\\\"link-title\\\" data-v-b4259224>\"+_vm._ssrEscape(_vm._s(link.title))+\"</a> <p class=\\\"link-summary\\\" data-v-b4259224>\"+_vm._ssrEscape(\"\\n                  \"+_vm._s(link.summary)+\"\\n                \")+\"</p></div></li>\")}))+\"</ul> \"),_c('pagination',{attrs:{\"page\":_vm.linksPage.page,\"url-prefix\":\"/links/\"}})],2)],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Pagination from '~/components/Pagination'\nexport default {\n  components: {\n    Pagination\n  },\n  async asyncData({ $axios, params }) {\n    const [linksPage] = await Promise.all([\n      $axios.get('/api/link/links', {\n        params: {\n          page: params.page || 1\n        }\n      })\n    ])\n    return {\n      linksPage\n    }\n  },\n  head() {\n    return {\n      title: this.$siteTitle('好博客'),\n      meta: [\n        {\n          hid: 'description',\n          name: 'description',\n          content: this.$siteDescription()\n        },\n        { hid: 'keywords', name: 'keywords', content: this.$siteKeywords() }\n      ]\n    }\n  }\n}\n","import mod from \"-!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./_page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./_page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_page.vue?vue&type=template&id=b4259224&scoped=true&\"\nimport script from \"./_page.vue?vue&type=script&lang=js&\"\nexport * from \"./_page.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"b4259224\",\n  \"0c424381\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.page.total > 0)?_c('nav',{staticClass:\"pagination is-small\",attrs:{\"role\":\"navigation\",\"aria-label\":\"pagination\"}},[_vm._ssrNode(((_vm.previousPageUrl)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.previousPageUrl))+\" class=\\\"pagination-previous\\\" data-v-a3f55830>上一页</a>\"):(\"<a disabled=\\\"disabled\\\" class=\\\"pagination-previous\\\" data-v-a3f55830>上一页</a>\"))+\" \"+((_vm.nextPageUrl)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.nextPageUrl))+\" class=\\\"pagination-previous\\\" data-v-a3f55830>下一页</a>\"):(\"<a disabled=\\\"disabled\\\" class=\\\"pagination-previous\\\" data-v-a3f55830>下一页</a>\"))+\" <ul class=\\\"pagination-list\\\" data-v-a3f55830>\"+(_vm._ssrList((_vm.pageList),function(p){return (\"<li data-v-a3f55830><a\"+(_vm._ssrAttr(\"href\",_vm.getPageUrl(p)))+(_vm._ssrClass(\"pagination-link\",{ 'is-current': p == _vm.page.page }))+\" data-v-a3f55830>\"+_vm._ssrEscape(_vm._s(p))+\"</a></li>\")}))+\"</ul>\")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    page: {\n      // 页码对象\n      type: Object,\n      default() {\n        return { page: 1, total: 0, limit: 20 }\n      },\n      required: true\n    },\n    urlPrefix: {\n      // 分页url前缀\n      type: String,\n      default: '/',\n      required: true\n    }\n  },\n  computed: {\n    pageList() {\n      const start = this.page.page - 2\n      const end = this.page.page + 2\n      const totalPage = this.getTotalPage()\n      if (start <= 0) {\n        const pages = []\n        for (let i = 1; i <= 5 && i <= totalPage; i++) {\n          pages.push(i)\n        }\n        return pages\n      } else if (end > totalPage) {\n        const pages = []\n        let i = totalPage - 5 <= 0 ? 1 : totalPage - 5\n        for (; i > 0 && i <= totalPage; i++) {\n          pages.push(i)\n        }\n        return pages\n      } else {\n        return [\n          this.page.page - 2,\n          this.page.page - 1,\n          this.page.page,\n          this.page.page + 1,\n          this.page.page + 2\n        ]\n      }\n    },\n    previousPageUrl() {\n      return this.getPreviousPageUrl()\n    },\n    nextPageUrl() {\n      return this.getNextPageUrl()\n    }\n  },\n  methods: {\n    getNextPageUrl() {\n      const nextPage = this.page.page + 1\n      if (nextPage > this.getTotalPage()) {\n        return ''\n      }\n      return this.getPageUrl(nextPage)\n    },\n    getPreviousPageUrl() {\n      const previousPage = this.page.page - 1\n      if (previousPage <= 0) {\n        return ''\n      }\n      return this.getPageUrl(previousPage)\n    },\n    getPageUrl(page) {\n      if (this.page.page === page) {\n        return 'javascript:void(0)'\n      }\n      return this.urlPrefix + page\n    },\n    getTotalPage() {\n      return this.page.total % this.page.limit > 0\n        ? parseInt(this.page.total / this.page.limit) + 1\n        : this.page.total / this.page.limit\n    }\n  }\n}\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=a3f55830&scoped=true&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"a3f55830\",\n  \"2ec4d9f2\"\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/net.1e01d6d.png\";"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AADA;AADA;AAMA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AAAA;AARA;AAWA;AACA;AA7BA;;ACzCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AANA;AAQA;AACA;AACA;AACA;AACA;AAJA;AATA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAlCA;AAmCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AACA;AA1BA;AApDA;;AClCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;;;;A","sourceRoot":""}