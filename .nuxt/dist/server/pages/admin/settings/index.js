exports.ids = [12];
exports.modules = {

/***/ 107:
/***/ (function(module, exports) {

// Exports
module.exports = {};


/***/ }),

/***/ 152:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(107);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_2a701c61_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 192:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./pages/admin/settings/index.vue?vue&type=template&id=2a701c61&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading),expression:"loading"}],staticClass:"page-container"},[_vm._ssrNode("<div class=\"page-section config-panel\" data-v-2a701c61>","</div>",[_c('el-tabs',{attrs:{"value":"commonConfigTab"}},[_c('el-tab-pane',{attrs:{"label":"通用配置","name":"commonConfigTab"}},[_c('div',{staticClass:"config"},[_c('el-form',{attrs:{"label-width":"160px"}},[_c('el-form-item',{attrs:{"label":"网站名称"}},[_c('el-input',{attrs:{"type":"text","placeholder":"网站名称"},model:{value:(_vm.config.siteTitle),callback:function ($$v) {_vm.$set(_vm.config, "siteTitle", $$v)},expression:"config.siteTitle"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"网站描述"}},[_c('el-input',{attrs:{"type":"textarea","autosize":"","placeholder":"网站描述"},model:{value:(_vm.config.siteDescription),callback:function ($$v) {_vm.$set(_vm.config, "siteDescription", $$v)},expression:"config.siteDescription"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"网站关键字"}},[_c('el-select',{staticStyle:{"width":"100%"},attrs:{"multiple":"","filterable":"","allow-create":"","default-first-option":"","placeholder":"网站关键字"},model:{value:(_vm.config.siteKeywords),callback:function ($$v) {_vm.$set(_vm.config, "siteKeywords", $$v)},expression:"config.siteKeywords"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"网站公告"}},[_c('el-input',{attrs:{"type":"textarea","autosize":"","placeholder":"网站公告（支持输入HTML）"},model:{value:(_vm.config.siteNotification),callback:function ($$v) {_vm.$set(_vm.config, "siteNotification", $$v)},expression:"config.siteNotification"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"推荐标签"}},[_c('el-select',{staticStyle:{"width":"100%"},attrs:{"multiple":"","filterable":"","allow-create":"","default-first-option":"","placeholder":"推荐标签"},model:{value:(_vm.config.recommendTags),callback:function ($$v) {_vm.$set(_vm.config, "recommendTags", $$v)},expression:"config.recommendTags"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"默认节点"}},[_c('el-select',{staticStyle:{"width":"100%"},attrs:{"placeholder":"发帖默认节点"},model:{value:(_vm.config.defaultNodeId),callback:function ($$v) {_vm.$set(_vm.config, "defaultNodeId", $$v)},expression:"config.defaultNodeId"}},_vm._l((_vm.nodes),function(node){return _c('el-option',{key:node.id,attrs:{"label":node.name,"value":node.id}})}),1)],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"站外链接跳转页面"}},[_c('el-tooltip',{attrs:{"content":"在跳转前需手动确认是否前往该站外链接","placement":"top"}},[_c('el-switch',{model:{value:(_vm.config.urlRedirect),callback:function ($$v) {_vm.$set(_vm.config, "urlRedirect", $$v)},expression:"config.urlRedirect"}})],1)],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"发帖验证码"}},[_c('el-tooltip',{attrs:{"content":"发帖时是否开启验证码校验","placement":"top"}},[_c('el-switch',{model:{value:(_vm.config.topicCaptcha),callback:function ($$v) {_vm.$set(_vm.config, "topicCaptcha", $$v)},expression:"config.topicCaptcha"}})],1)],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"发表文章审核"}},[_c('el-tooltip',{attrs:{"content":"发布文章后是否开启审核","placement":"top"}},[_c('el-switch',{model:{value:(_vm.config.articlePending),callback:function ($$v) {_vm.$set(_vm.config, "articlePending", $$v)},expression:"config.articlePending"}})],1)],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"用户观察期"}},[_c('el-tooltip',{attrs:{"content":"观察期内用户无法发表话题、动态等内容，设置为 0 表示无观察期。","placement":"top"}},[_c('el-input-number',{attrs:{"min":0,"max":720,"label":"用户观察期(小时)"},model:{value:(_vm.config.userObserveHour),callback:function ($$v) {_vm.$set(_vm.config, "userObserveHour", $$v)},expression:"config.userObserveHour"}})],1)],1)],1)],1)]),_vm._v(" "),_c('el-tab-pane',{staticClass:"nav-panel",attrs:{"label":"导航配置","name":"navConfigTab"}},[_c('draggable',{staticClass:"navs",attrs:{"draggable":".nav","handle":".nav-sort-btn"},model:{value:(_vm.config.siteNavs),callback:function ($$v) {_vm.$set(_vm.config, "siteNavs", $$v)},expression:"config.siteNavs"}},_vm._l((_vm.config.siteNavs),function(nav,index){return _c('div',{key:index,staticClass:"nav"},[_c('el-row',{attrs:{"gutter":20}},[_c('el-col',{attrs:{"span":1}},[_c('i',{staticClass:"iconfont icon-sort nav-sort-btn"})]),_vm._v(" "),_c('el-col',{attrs:{"span":10}},[_c('el-input',{attrs:{"type":"text","size":"small","placeholder":"标题"},model:{value:(nav.title),callback:function ($$v) {_vm.$set(nav, "title", $$v)},expression:"nav.title"}})],1),_vm._v(" "),_c('el-col',{attrs:{"span":11}},[_c('el-input',{attrs:{"type":"text","size":"small","placeholder":"链接"},model:{value:(nav.url),callback:function ($$v) {_vm.$set(nav, "url", $$v)},expression:"nav.url"}})],1),_vm._v(" "),_c('el-col',{attrs:{"span":2}},[_c('el-button',{attrs:{"type":"danger","icon":"el-icon-delete","circle":"","size":"small"},on:{"click":function($event){return _vm.delNav(index)}}})],1)],1)],1)}),0),_vm._v(" "),_c('div',{staticClass:"add-nav"},[_c('el-tooltip',{staticClass:"item",attrs:{"effect":"dark","content":"点击按钮添加导航","placement":"top"}},[_c('el-button',{attrs:{"type":"primary","icon":"el-icon-plus","circle":""},on:{"click":_vm.addNav}})],1)],1)],1),_vm._v(" "),(_vm.config.scoreConfig)?_c('el-tab-pane',{attrs:{"label":"积分配置","name":"scoreConfigTab"}},[_c('el-form',{attrs:{"label-width":"160px"}},[_c('el-form-item',{attrs:{"label":"发帖获得积分"}},[_c('el-input-number',{attrs:{"min":1,"type":"text","placeholder":"发帖获得积分"},model:{value:(_vm.config.scoreConfig.postTopicScore),callback:function ($$v) {_vm.$set(_vm.config.scoreConfig, "postTopicScore", $$v)},expression:"config.scoreConfig.postTopicScore"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"跟帖获得积分"}},[_c('el-input-number',{attrs:{"min":1,"type":"text","placeholder":"跟帖获得积分"},model:{value:(_vm.config.scoreConfig.postCommentScore),callback:function ($$v) {_vm.$set(_vm.config.scoreConfig, "postCommentScore", $$v)},expression:"config.scoreConfig.postCommentScore"}})],1)],1)],1):_vm._e()],1),_vm._ssrNode(" "),_vm._ssrNode("<div style=\"text-align: right;\" data-v-2a701c61>","</div>",[_c('el-button',{attrs:{"loading":_vm.loading,"type":"primary"},on:{"click":_vm.save}},[_vm._v("保存配置\n      ")])],1)],2)])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/admin/settings/index.vue?vue&type=template&id=2a701c61&scoped=true&

// EXTERNAL MODULE: external "vuedraggable"
var external_vuedraggable_ = __webpack_require__(36);
var external_vuedraggable_default = /*#__PURE__*/__webpack_require__.n(external_vuedraggable_);

// CONCATENATED MODULE: ./node_modules/_babel-loader@8.1.0@babel-loader/lib??ref--2-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./pages/admin/settings/index.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var settingsvue_type_script_lang_js_ = ({
  layout: 'admin',
  components: {
    draggable: external_vuedraggable_default.a
  },

  data() {
    return {
      config: {},
      loading: false,
      autocompleteTags: [],
      autocompleteTagLoading: false,
      nodes: []
    };
  },

  mounted() {
    this.load();
  },

  methods: {
    async load() {
      this.loading = true;

      try {
        this.config = await this.$axios.get('/api/admin/sys-config/all');
        this.nodes = await this.$axios.get('/api/admin/topic-node/nodes');
      } catch (err) {
        this.$notify.error({
          title: '错误',
          message: err.message
        });
      } finally {
        this.loading = false;
      }
    },

    async save() {
      this.loading = true;

      try {
        await this.$axios.post('/api/admin/sys-config/save', {
          config: JSON.stringify(this.config)
        });
        this.$message({
          message: '提交成功',
          type: 'success'
        });
        this.load();
      } catch (err) {
        this.$notify.error({
          title: '错误',
          message: err.message
        });
      } finally {
        this.loading = false;
      }
    },

    addNav() {
      if (!this.config.siteNavs) {
        this.config.siteNavs = [];
      }

      this.config.siteNavs.push({
        title: '',
        url: ''
      });
    },

    delNav(index) {
      if (!this.config.siteNavs) {
        return;
      }

      this.config.siteNavs.splice(index, 1);
    }

  }
});
// CONCATENATED MODULE: ./pages/admin/settings/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var admin_settingsvue_type_script_lang_js_ = (settingsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(4);

// CONCATENATED MODULE: ./pages/admin/settings/index.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(152)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  admin_settingsvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "2a701c61",
  "252f3f95"
  
)

/* harmony default export */ var settings = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=index.js.map