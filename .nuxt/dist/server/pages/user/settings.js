exports.ids = [64];
exports.modules = {

/***/ 102:
/***/ (function(module, exports) {

// Exports
module.exports = {};


/***/ }),

/***/ 138:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(102);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_settings_vue_vue_type_style_index_0_id_2777cc44_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 179:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./pages/user/settings.vue?vue&type=template&id=2777cc44&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:"main"},[_vm._ssrNode("<div class=\"container main-container is-white left-main\" data-v-2777cc44>","</div>",[_vm._ssrNode("<div class=\"left-container\" data-v-2777cc44><div class=\"widget\" data-v-2777cc44><div class=\"widget-header\" data-v-2777cc44><nav class=\"breadcrumb\" data-v-2777cc44><ul data-v-2777cc44><li data-v-2777cc44><a href=\"/\" data-v-2777cc44>首页</a></li> <li data-v-2777cc44><a"+(_vm._ssrAttr("href",'/user/' + _vm.user.id))+" data-v-2777cc44>"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+"</a></li> <li class=\"is-active\" data-v-2777cc44><a href=\"#\" aria-current=\"page\" data-v-2777cc44>编辑资料</a></li></ul></nav></div> <div class=\"widget-content\" data-v-2777cc44><div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44>用户名：</label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44>"+((_vm.user.username)?("<label data-v-2777cc44>"+_vm._ssrEscape(_vm._s(_vm.user.username))+"</label>"):("<a data-v-2777cc44>点击设置</a>"))+"</div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44>邮箱：</label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44>"+((_vm.user.email)?("<label data-v-2777cc44>"+_vm._ssrEscape(_vm._s(_vm.user.email))+"</label> "+((_vm.user.emailVerified)?("<span class=\"has-text-success\" data-v-2777cc44>已验证</span>"):("<a class=\"has-text-danger\" data-v-2777cc44>点击验证&gt;&gt;</a>"))):("<a data-v-2777cc44>点击设置</a>"))+"</div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44>密码：</label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44>"+((_vm.user.passwordSet)?("<label data-v-2777cc44>密码已设置 </label> <a data-v-2777cc44>点击修改</a>"):("<a data-v-2777cc44>点击设置</a>"))+"</div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44><span style=\"color:red;\" data-v-2777cc44>* </span>头像：\n              </label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control\" data-v-2777cc44><img"+(_vm._ssrAttr("src",_vm.user.avatar))+" style=\"width: 150px;height:150px;\" data-v-2777cc44> <div class=\"file\" data-v-2777cc44><label class=\"file-label\" data-v-2777cc44><input type=\"file\" class=\"file-input\" data-v-2777cc44> <span class=\"file-cta\" data-v-2777cc44><span class=\"file-icon\" data-v-2777cc44><i class=\"iconfont icon-upload\" data-v-2777cc44></i></span> <span class=\"file-label\" data-v-2777cc44>选择头像</span></span></label></div> <span style=\"font-weight: bold; color:red;\" data-v-2777cc44>*图像必须为正方形，大小不要超过1M。</span></div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44><span style=\"color:red;\" data-v-2777cc44>* </span>昵称：\n              </label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"text\" autocomplete=\"off\" placeholder=\"请输入昵称\""+(_vm._ssrAttr("value",(_vm.form.nickname)))+" class=\"input\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-username\" data-v-2777cc44></i></span></div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44>简介：</label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control\" data-v-2777cc44><textarea rows=\"2\" placeholder=\"一句话介绍你自己\" class=\"textarea\" data-v-2777cc44>"+_vm._ssrEscape(_vm._s(_vm.form.description))+"</textarea></div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44><label class=\"label\" data-v-2777cc44>个人主页：</label></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"text\" autocomplete=\"off\" placeholder=\"请输入个人主页\""+(_vm._ssrAttr("value",(_vm.form.homePage)))+" class=\"input\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-net\" data-v-2777cc44></i></span></div></div></div></div> <div class=\"field is-horizontal\" data-v-2777cc44><div class=\"field-label is-normal\" data-v-2777cc44></div> <div class=\"field-body\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control\" data-v-2777cc44><a class=\"button is-success\" data-v-2777cc44>提交修改</a></div></div></div></div></div></div></div> "),_c('user-center-sidebar',{attrs:{"user":_vm.user}})],2),_vm._ssrNode(" <div"+(_vm._ssrClass("modal",{ 'is-active': _vm.showSetUsername }))+" data-v-2777cc44><div class=\"modal-background\" data-v-2777cc44></div> <div class=\"modal-card\" data-v-2777cc44><div class=\"widget\" data-v-2777cc44><div class=\"widget-header\" data-v-2777cc44>\n          设置用户名\n          <button aria-label=\"close\" class=\"delete\" data-v-2777cc44></button></div> <div class=\"widget-content\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"text\" placeholder=\"请输入用户名\""+(_vm._ssrAttr("value",(_vm.form.username)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-username\" data-v-2777cc44></i></span></div></div></div> <div class=\"widget-footer is-right\" data-v-2777cc44><a class=\"button is-success\" data-v-2777cc44>确定</a> <a class=\"button\" data-v-2777cc44>取消</a></div></div></div></div> <div"+(_vm._ssrClass("modal",{ 'is-active': _vm.showSetEmail }))+" data-v-2777cc44><div class=\"modal-background\" data-v-2777cc44></div> <div class=\"modal-card\" data-v-2777cc44><div class=\"widget\" data-v-2777cc44><div class=\"widget-header\" data-v-2777cc44>\n          设置邮箱\n          <button aria-label=\"close\" class=\"delete\" data-v-2777cc44></button></div> <div class=\"widget-content\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"text\" placeholder=\"请输入邮箱\""+(_vm._ssrAttr("value",(_vm.form.email)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-email\" data-v-2777cc44></i></span></div></div></div> <div class=\"widget-footer is-right\" data-v-2777cc44><a class=\"button is-success\" data-v-2777cc44>确定</a> <a class=\"button\" data-v-2777cc44>取消</a></div></div></div></div> <div"+(_vm._ssrClass("modal",{ 'is-active': _vm.showSetPassword }))+" data-v-2777cc44><div class=\"modal-background\" data-v-2777cc44></div> <div class=\"modal-card\" data-v-2777cc44><div class=\"widget\" data-v-2777cc44><div class=\"widget-header\" data-v-2777cc44>\n          设置密码\n          <button aria-label=\"close\" class=\"delete\" data-v-2777cc44></button></div> <div class=\"widget-content\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"password\" placeholder=\"请输入密码\""+(_vm._ssrAttr("value",(_vm.form.password)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-password\" data-v-2777cc44></i></span></div></div> <div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"password\" placeholder=\"请再次确认密码\""+(_vm._ssrAttr("value",(_vm.form.rePassword)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-password\" data-v-2777cc44></i></span></div></div></div> <div class=\"widget-footer is-right\" data-v-2777cc44><a class=\"button is-success\" data-v-2777cc44>确定</a> <a class=\"button\" data-v-2777cc44>取消</a></div></div></div></div> <div"+(_vm._ssrClass("modal",{ 'is-active': _vm.showUpdatePassword }))+" data-v-2777cc44><div class=\"modal-background\" data-v-2777cc44></div> <div class=\"modal-card\" data-v-2777cc44><div class=\"widget\" data-v-2777cc44><div class=\"widget-header\" data-v-2777cc44>\n          修改密码\n          <button aria-label=\"close\" class=\"delete\" data-v-2777cc44></button></div> <div class=\"widget-content\" data-v-2777cc44><div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"password\" placeholder=\"请输入当前密码\""+(_vm._ssrAttr("value",(_vm.form.oldPassword)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-password\" data-v-2777cc44></i></span></div></div> <div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"password\" placeholder=\"请输入密码\""+(_vm._ssrAttr("value",(_vm.form.password)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-password\" data-v-2777cc44></i></span></div></div> <div class=\"field\" data-v-2777cc44><div class=\"control has-icons-left\" data-v-2777cc44><input type=\"password\" placeholder=\"请再次确认密码\""+(_vm._ssrAttr("value",(_vm.form.rePassword)))+" class=\"input is-success\" data-v-2777cc44> <span class=\"icon is-small is-left\" data-v-2777cc44><i class=\"iconfont icon-password\" data-v-2777cc44></i></span></div></div></div> <div class=\"widget-footer is-right\" data-v-2777cc44><a class=\"button is-success\" data-v-2777cc44>确定</a> <a class=\"button\" data-v-2777cc44>取消</a></div></div></div></div>")],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/user/settings.vue?vue&type=template&id=2777cc44&scoped=true&

// EXTERNAL MODULE: ./components/UserCenterSidebar.vue + 9 modules
var UserCenterSidebar = __webpack_require__(70);

// CONCATENATED MODULE: ./node_modules/_babel-loader@8.1.0@babel-loader/lib??ref--2-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./pages/user/settings.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var settingsvue_type_script_lang_js_ = ({
  middleware: 'authenticated',
  components: {
    UserCenterSidebar: UserCenterSidebar["a" /* default */]
  },

  async asyncData({
    $axios,
    params
  }) {
    const user = await $axios.get('/api/user/current');
    const form = { ...user
    };
    return {
      user,
      form
    };
  },

  data() {
    return {
      form: {
        username: '',
        email: '',
        nickname: '',
        avatar: '',
        homePage: '',
        description: '',
        password: '',
        rePassword: '',
        oldPassword: ''
      },
      showSetUsername: false,
      // username: '',
      showSetEmail: false,
      // email: '',
      showSetPassword: false,
      // 显示设置密码
      showUpdatePassword: false // 显示修改密码
      // password: '',
      // rePassword: '',
      // oldPassword: ''

    };
  },

  methods: {
    async submitForm() {
      try {
        await this.$axios.post('/api/user/edit/' + this.user.id, {
          nickname: this.form.nickname,
          avatar: this.form.avatar,
          homePage: this.form.homePage,
          description: this.form.description
        });
        await this.reload();
        this.$toast.success('资料修改成功');
      } catch (e) {
        console.error(e);
        this.$toast.error('资料修改失败：' + (e.message || e));
      }
    },

    async uploadAvatar(e) {
      const files = e.target.files;

      if (files.length <= 0) {
        return;
      }

      try {
        // 上传头像
        const file = files[0];
        const formData = new FormData();
        formData.append('image', file, file.name);
        const ret = await this.$axios.post('/api/upload', formData, {
          headers: {
            'Content-Type': 'multipart/form-data'
          }
        }); // 设置头像

        await this.$axios.post('/api/user/update/avatar', {
          avatar: ret.url
        }); // 重新加载数据

        await this.reload();
        this.$toast.success('头像更新成功');
      } catch (e) {
        console.error(e);
      }
    },

    async setUsername() {
      try {
        const me = this;
        await this.$axios.post('/api/user/set/username', {
          username: me.form.username
        });
        await this.reload();
        this.$toast.success('用户名设置成功');
        this.showSetUsername = false;
      } catch (err) {
        this.$toast.error('用户名设置失败：' + (err.message || err));
      }
    },

    async setEmail() {
      try {
        const me = this;
        await this.$axios.post('/api/user/set/email', {
          email: me.form.email
        });
        await this.reload();
        this.$toast.success('邮箱设置成功');
        this.showSetEmail = false;
      } catch (err) {
        this.$toast.error('邮箱设置失败：' + (err.message || err));
      }
    },

    async setPassword() {
      try {
        const me = this;
        await this.$axios.post('/api/user/set/password', {
          password: me.form.password,
          rePassword: me.form.rePassword
        });
        await this.reload();
        this.$toast.success('密码设置成功');
        this.showSetPassword = false;
      } catch (err) {
        this.$toast.error('密码设置失败：' + (err.message || err));
      }
    },

    async updatePassword() {
      try {
        const me = this;
        await this.$axios.post('/api/user/update/password', {
          oldPassword: me.form.oldPassword,
          password: me.form.password,
          rePassword: me.form.rePassword
        });
        await this.reload();
        this.$toast.success('密码修改成功');
        this.showUpdatePassword = false;
      } catch (err) {
        this.$toast.error('密码修改失败：' + (err.message || err));
      }
    },

    async reload() {
      this.user = await this.$axios.get('/api/user/current');
      this.form = { ...this.user
      };
    },

    async requestEmailVerify() {
      this.$nuxt.$loading.start();

      try {
        await this.$axios.post('/api/user/email/verify');
        this.$toast.success('邮件已经发送到你的邮箱：' + this.user.email + '，请注意查收。');
      } catch (err) {
        this.$toast.error('请求验证失败：' + (err.message || err));
      } finally {
        this.$nuxt.$loading.finish();
      }
    }

  },

  head() {
    return {
      title: this.$siteTitle(this.user.nickname + ' - 编辑资料')
    };
  }

});
// CONCATENATED MODULE: ./pages/user/settings.vue?vue&type=script&lang=js&
 /* harmony default export */ var user_settingsvue_type_script_lang_js_ = (settingsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(4);

// CONCATENATED MODULE: ./pages/user/settings.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(138)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  user_settingsvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "2777cc44",
  "2f0408f0"
  
)

/* harmony default export */ var settings = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 51:
/***/ (function(module, exports) {

// Exports
module.exports = {};


/***/ }),

/***/ 52:
/***/ (function(module, exports) {

// Exports
module.exports = {};


/***/ }),

/***/ 68:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_PostBtns_vue_vue_type_style_index_0_id_2af0916a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 69:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52);
/* harmony import */ var _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_css_loader_3_6_0_css_loader_dist_cjs_js_ref_7_oneOf_1_0_node_modules_vue_loader_15_9_3_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_7_oneOf_1_1_node_modules_sass_loader_7_3_1_sass_loader_dist_cjs_js_ref_7_oneOf_1_2_node_modules_vue_loader_15_9_3_vue_loader_lib_index_js_vue_loader_options_UserCenterSidebar_vue_vue_type_style_index_0_id_3d739100_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 70:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./components/UserCenterSidebar.vue?vue&type=template&id=3d739100&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"right-container"},[(_vm.isOwner)?_c('post-btns'):_vm._e(),_vm._ssrNode(" <div class=\"widget\" data-v-3d739100><div class=\"widget-header\" data-v-3d739100>"+_vm._ssrEscape("\n      "+_vm._s(_vm.user.nickname)+"\n    ")+"</div> <div class=\"widget-content\" data-v-3d739100><img"+(_vm._ssrAttr("src",_vm.user.smallAvatar))+" class=\"img-avatar\" data-v-3d739100> "+((_vm.user.description)?("<div class=\"description\" data-v-3d739100><p data-v-3d739100>"+_vm._ssrEscape(_vm._s(_vm.user.description))+"</p></div>"):"<!---->")+" <div class=\"score\" data-v-3d739100><i class=\"iconfont icon-score\" data-v-3d739100></i> <span data-v-3d739100>"+_vm._ssrEscape(_vm._s(_vm.user.score))+"</span> "+((_vm.isOwner)?("<a href=\"/user/scores\" target=\"_blank\" class=\"score-log\" data-v-3d739100>积分详情&gt;&gt;</a>"):"<!---->")+"</div> "+((_vm.isOwner)?("<ul class=\"operations\" data-v-3d739100><li data-v-3d739100><i class=\"iconfont icon-edit\" data-v-3d739100></i> <a href=\"/user/settings\" data-v-3d739100> 编辑资料</a></li> <li data-v-3d739100><i class=\"iconfont icon-message\" data-v-3d739100></i> <a href=\"/user/messages\" data-v-3d739100> 消息</a></li> <li data-v-3d739100><i class=\"iconfont icon-favorites\" data-v-3d739100></i> <a href=\"/user/favorites\" data-v-3d739100> 收藏</a></li></ul>"):"<!---->")+" "+((_vm.isAdmin)?("<ul class=\"operations\" data-v-3d739100>"+((_vm.user.forbidden)?("<li data-v-3d739100><i class=\"iconfont icon-forbidden\" data-v-3d739100></i> <a data-v-3d739100> 取消禁言</a></li>"):("<li data-v-3d739100><i class=\"iconfont icon-forbidden\" data-v-3d739100></i> <a data-v-3d739100> 禁言</a></li>"))+"</ul>"):"<!---->")+"</div></div>")],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/UserCenterSidebar.vue?vue&type=template&id=3d739100&scoped=true&

// CONCATENATED MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./components/PostBtns.vue?vue&type=template&id=2af0916a&scoped=true&
var PostBtnsvue_type_template_id_2af0916a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"aside-actions"},[])}
var PostBtnsvue_type_template_id_2af0916a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./components/PostBtns.vue?vue&type=template&id=2af0916a&scoped=true&

// CONCATENATED MODULE: ./node_modules/_babel-loader@8.1.0@babel-loader/lib??ref--2-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./components/PostBtns.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var PostBtnsvue_type_script_lang_js_ = ({
  props: {
    currentNodeId: {
      type: Number,
      default: 0
    }
  },
  computed: {
    createTopicUrl() {
      let url = '/topic/create';

      if (this.currentNodeId) {
        url += '?nodeId=' + this.currentNodeId;
      }

      return url;
    }

  }
});
// CONCATENATED MODULE: ./components/PostBtns.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_PostBtnsvue_type_script_lang_js_ = (PostBtnsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(4);

// CONCATENATED MODULE: ./components/PostBtns.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(68)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_PostBtnsvue_type_script_lang_js_,
  PostBtnsvue_type_template_id_2af0916a_scoped_true_render,
  PostBtnsvue_type_template_id_2af0916a_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "2af0916a",
  "3e909808"
  
)

/* harmony default export */ var PostBtns = (component.exports);
// EXTERNAL MODULE: ./common/UserHelper.js
var UserHelper = __webpack_require__(9);

// CONCATENATED MODULE: ./node_modules/_babel-loader@8.1.0@babel-loader/lib??ref--2-0!./node_modules/_vue-loader@15.9.3@vue-loader/lib??vue-loader-options!./components/UserCenterSidebar.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var UserCenterSidebarvue_type_script_lang_js_ = ({
  components: {
    PostBtns: PostBtns
  },
  props: {
    user: {
      type: Object,
      required: true
    }
  },

  data() {
    return {};
  },

  computed: {
    currentUser() {
      return this.$store.state.user.current;
    },

    // 是否是主人态
    isOwner() {
      const current = this.$store.state.user.current;
      return this.user && current && this.user.id === current.id;
    },

    isAdmin() {
      return UserHelper["a" /* default */].isOwner(this.currentUser) || UserHelper["a" /* default */].isAdmin(this.currentUser);
    }

  },
  methods: {
    async forbidden() {
      try {
        await this.$axios.post('/api/user/forbidden', {
          userId: this.user.id,
          days: 7
        });
        this.user.forbidden = true;
        this.$toast.success('禁言成功');
      } catch (e) {
        this.$toast.error('禁言失败');
      }
    },

    async removeForbidden() {
      try {
        await this.$axios.post('/api/user/forbidden', {
          userId: this.user.id,
          days: 0
        });
        this.user.forbidden = false;
        this.$toast.success('取消禁言成功');
      } catch (e) {
        this.$toast.error('取消禁言失败');
      }
    }

  }
});
// CONCATENATED MODULE: ./components/UserCenterSidebar.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_UserCenterSidebarvue_type_script_lang_js_ = (UserCenterSidebarvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./components/UserCenterSidebar.vue



function UserCenterSidebar_injectStyles (context) {
  
  var style0 = __webpack_require__(69)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var UserCenterSidebar_component = Object(componentNormalizer["a" /* default */])(
  components_UserCenterSidebarvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  UserCenterSidebar_injectStyles,
  "3d739100",
  "4754e832"
  
)

/* harmony default export */ var UserCenterSidebar = __webpack_exports__["a"] = (UserCenterSidebar_component.exports);

/***/ })

};;
//# sourceMappingURL=settings.js.map