{"version":3,"file":"pages/user/_userId/articles/_page.js","sources":["webpack:///./pages/user/_userId/articles/_page.vue?4486","webpack:///_page.vue","webpack:///./pages/user/_userId/articles/_page.vue?1f7e","webpack:///./pages/user/_userId/articles/_page.vue","webpack:///./components/Pagination.vue?562a","webpack:///./components/Pagination.vue?b5b3","webpack:///./components/PostBtns.vue?a753","webpack:///./components/UserCenterSidebar.vue?4327","webpack:///./components/Pagination.vue?7b45","webpack:///Pagination.vue","webpack:///./components/Pagination.vue?6312","webpack:///./components/Pagination.vue","webpack:///./components/PostBtns.vue?1468","webpack:///./components/UserCenterSidebar.vue?967d","webpack:///./components/UserCenterSidebar.vue?8b42","webpack:///./components/PostBtns.vue?88b5","webpack:///PostBtns.vue","webpack:///./components/PostBtns.vue?33ea","webpack:///./components/PostBtns.vue","webpack:///UserCenterSidebar.vue","webpack:///./components/UserCenterSidebar.vue?8a54","webpack:///./components/UserCenterSidebar.vue","webpack:///./components/ArticleList.vue?e88a","webpack:///./components/ArticleList.vue","webpack:///./components/ArticleList.vue?2f43","webpack:///./components/ArticleList.vue?f07a"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main\"},[_vm._ssrNode(\"<div class=\\\"container main-container is-white left-main\\\" data-v-65f2b9e6>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"left-container\\\" data-v-65f2b9e6>\",\"</div>\",[_vm._ssrNode(\"<nav class=\\\"breadcrumb my-breadcrumb\\\" data-v-65f2b9e6><ul data-v-65f2b9e6><li data-v-65f2b9e6><a href=\\\"article\\\" data-v-65f2b9e6>首页</a></li> <li data-v-65f2b9e6><a\"+(_vm._ssrAttr(\"href\",'/user/' + _vm.user.id + '?tab=articles'))+\" data-v-65f2b9e6>\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</a></li> <li class=\\\"is-active\\\" data-v-65f2b9e6><a href=\\\"#\\\" aria-current=\\\"page\\\" data-v-65f2b9e6>文章列表</a></li></ul></nav> \"),_c('article-list',{attrs:{\"articles\":_vm.articlesPage.results}}),_vm._ssrNode(\" \"),_c('pagination',{attrs:{\"page\":_vm.articlesPage.page,\"url-prefix\":'/user/' + _vm.user.id + '/articles/'}})],2),_vm._ssrNode(\" \"),_c('user-center-sidebar',{attrs:{\"user\":_vm.user}})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"main\">\n    <div class=\"container main-container is-white left-main\">\n      <div class=\"left-container\">\n        <nav class=\"breadcrumb my-breadcrumb\">\n          <ul>\n            <li><a href=\"article\">首页</a></li>\n            <li>\n              <a :href=\"'/user/' + user.id + '?tab=articles'\">{{\n                user.nickname\n              }}</a>\n            </li>\n            <li class=\"is-active\">\n              <a href=\"#\" aria-current=\"page\">文章列表</a>\n            </li>\n          </ul>\n        </nav>\n\n        <article-list :articles=\"articlesPage.results\" />\n        <pagination\n          :page=\"articlesPage.page\"\n          :url-prefix=\"'/user/' + user.id + '/articles/'\"\n        />\n      </div>\n      <user-center-sidebar :user=\"user\" />\n    </div>\n  </section>\n</template>\n\n<script>\nimport ArticleList from '~/components/ArticleList'\nimport Pagination from '~/components/Pagination'\nimport UserCenterSidebar from '~/components/UserCenterSidebar'\nexport default {\n  components: {\n    ArticleList,\n    Pagination,\n    UserCenterSidebar\n  },\n  async asyncData({ $axios, params, error }) {\n    let user\n    try {\n      user = await $axios.get('/api/user/' + params.userId)\n    } catch (err) {\n      error({\n        statusCode: 404,\n        message: err.message || '系统错误'\n      })\n      return\n    }\n\n    const [articlesPage] = await Promise.all([\n      $axios.get('/api/article/user/articles', {\n        params: {\n          userId: params.userId,\n          page: params.page\n        }\n      })\n    ])\n\n    return {\n      user,\n      articlesPage\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.user.current\n    },\n    // 是否是主人态\n    isOwner() {\n      const current = this.$store.state.user.current\n      return this.user && current && this.user.id === current.id\n    }\n  },\n  head() {\n    return {\n      title: this.$siteTitle(this.user.nickname + ' - 文章')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./_page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./_page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_page.vue?vue&type=template&id=65f2b9e6&scoped=true&\"\nimport script from \"./_page.vue?vue&type=script&lang=js&\"\nexport * from \"./_page.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"65f2b9e6\",\n  \"63395c2b\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\"","// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.page.total > 0)?_c('nav',{staticClass:\"pagination is-small\",attrs:{\"role\":\"navigation\",\"aria-label\":\"pagination\"}},[_vm._ssrNode(((_vm.previousPageUrl)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.previousPageUrl))+\" class=\\\"pagination-previous\\\" data-v-a3f55830>上一页</a>\"):(\"<a disabled=\\\"disabled\\\" class=\\\"pagination-previous\\\" data-v-a3f55830>上一页</a>\"))+\" \"+((_vm.nextPageUrl)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.nextPageUrl))+\" class=\\\"pagination-previous\\\" data-v-a3f55830>下一页</a>\"):(\"<a disabled=\\\"disabled\\\" class=\\\"pagination-previous\\\" data-v-a3f55830>下一页</a>\"))+\" <ul class=\\\"pagination-list\\\" data-v-a3f55830>\"+(_vm._ssrList((_vm.pageList),function(p){return (\"<li data-v-a3f55830><a\"+(_vm._ssrAttr(\"href\",_vm.getPageUrl(p)))+(_vm._ssrClass(\"pagination-link\",{ 'is-current': p == _vm.page.page }))+\" data-v-a3f55830>\"+_vm._ssrEscape(_vm._s(p))+\"</a></li>\")}))+\"</ul>\")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav\n    v-if=\"page.total > 0\"\n    class=\"pagination is-small\"\n    role=\"navigation\"\n    aria-label=\"pagination\"\n  >\n    <a\n      v-if=\"previousPageUrl\"\n      :href=\"previousPageUrl\"\n      class=\"pagination-previous\"\n      >上一页</a\n    >\n    <a v-else class=\"pagination-previous\" disabled>上一页</a>\n\n    <a v-if=\"nextPageUrl\" :href=\"nextPageUrl\" class=\"pagination-previous\"\n      >下一页</a\n    >\n    <a v-else class=\"pagination-previous\" disabled>下一页</a>\n\n    <ul class=\"pagination-list\">\n      <li v-for=\"p in pageList\" :key=\"p\">\n        <a\n          :class=\"{ 'is-current': p == page.page }\"\n          :href=\"getPageUrl(p)\"\n          class=\"pagination-link\"\n          >{{ p }}</a\n        >\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: {\n    page: {\n      // 页码对象\n      type: Object,\n      default() {\n        return { page: 1, total: 0, limit: 20 }\n      },\n      required: true\n    },\n    urlPrefix: {\n      // 分页url前缀\n      type: String,\n      default: '/',\n      required: true\n    }\n  },\n  computed: {\n    pageList() {\n      const start = this.page.page - 2\n      const end = this.page.page + 2\n      const totalPage = this.getTotalPage()\n      if (start <= 0) {\n        const pages = []\n        for (let i = 1; i <= 5 && i <= totalPage; i++) {\n          pages.push(i)\n        }\n        return pages\n      } else if (end > totalPage) {\n        const pages = []\n        let i = totalPage - 5 <= 0 ? 1 : totalPage - 5\n        for (; i > 0 && i <= totalPage; i++) {\n          pages.push(i)\n        }\n        return pages\n      } else {\n        return [\n          this.page.page - 2,\n          this.page.page - 1,\n          this.page.page,\n          this.page.page + 1,\n          this.page.page + 2\n        ]\n      }\n    },\n    previousPageUrl() {\n      return this.getPreviousPageUrl()\n    },\n    nextPageUrl() {\n      return this.getNextPageUrl()\n    }\n  },\n  methods: {\n    getNextPageUrl() {\n      const nextPage = this.page.page + 1\n      if (nextPage > this.getTotalPage()) {\n        return ''\n      }\n      return this.getPageUrl(nextPage)\n    },\n    getPreviousPageUrl() {\n      const previousPage = this.page.page - 1\n      if (previousPage <= 0) {\n        return ''\n      }\n      return this.getPageUrl(previousPage)\n    },\n    getPageUrl(page) {\n      if (this.page.page === page) {\n        return 'javascript:void(0)'\n      }\n      return this.urlPrefix + page\n    },\n    getTotalPage() {\n      return this.page.total % this.page.limit > 0\n        ? parseInt(this.page.total / this.page.limit) + 1\n        : this.page.total / this.page.limit\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.pagination {\n  margin: 10px 0;\n}\n</style>\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=a3f55830&scoped=true&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Pagination.vue?vue&type=style&index=0&id=a3f55830&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"a3f55830\",\n  \"e711cf02\"\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right-container\"},[(_vm.isOwner)?_c('post-btns'):_vm._e(),_vm._ssrNode(\" <div class=\\\"widget\\\" data-v-3d739100><div class=\\\"widget-header\\\" data-v-3d739100>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.nickname)+\"\\n    \")+\"</div> <div class=\\\"widget-content\\\" data-v-3d739100><img\"+(_vm._ssrAttr(\"src\",_vm.user.smallAvatar))+\" class=\\\"img-avatar\\\" data-v-3d739100> \"+((_vm.user.description)?(\"<div class=\\\"description\\\" data-v-3d739100><p data-v-3d739100>\"+_vm._ssrEscape(_vm._s(_vm.user.description))+\"</p></div>\"):\"<!---->\")+\" <div class=\\\"score\\\" data-v-3d739100><i class=\\\"iconfont icon-score\\\" data-v-3d739100></i> <span data-v-3d739100>\"+_vm._ssrEscape(_vm._s(_vm.user.score))+\"</span> \"+((_vm.isOwner)?(\"<a href=\\\"/user/scores\\\" target=\\\"_blank\\\" class=\\\"score-log\\\" data-v-3d739100>积分详情&gt;&gt;</a>\"):\"<!---->\")+\"</div> \"+((_vm.isOwner)?(\"<ul class=\\\"operations\\\" data-v-3d739100><li data-v-3d739100><i class=\\\"iconfont icon-edit\\\" data-v-3d739100></i> <a href=\\\"/user/settings\\\" data-v-3d739100> 编辑资料</a></li> <li data-v-3d739100><i class=\\\"iconfont icon-message\\\" data-v-3d739100></i> <a href=\\\"/user/messages\\\" data-v-3d739100> 消息</a></li> <li data-v-3d739100><i class=\\\"iconfont icon-favorites\\\" data-v-3d739100></i> <a href=\\\"/user/favorites\\\" data-v-3d739100> 收藏</a></li></ul>\"):\"<!---->\")+\" \"+((_vm.isAdmin)?(\"<ul class=\\\"operations\\\" data-v-3d739100>\"+((_vm.user.forbidden)?(\"<li data-v-3d739100><i class=\\\"iconfont icon-forbidden\\\" data-v-3d739100></i> <a data-v-3d739100> 取消禁言</a></li>\"):(\"<li data-v-3d739100><i class=\\\"iconfont icon-forbidden\\\" data-v-3d739100></i> <a data-v-3d739100> 禁言</a></li>\"))+\"</ul>\"):\"<!---->\")+\"</div></div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aside-actions\"},[])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"aside-actions\">\n    <!-- <a :href=\"createTopicUrl\" class=\"aside-actions-btn\">\n      <svg\n        viewBox=\"0 0 1065 1024\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        class=\"icon ic\"\n      >\n        <path\n          d=\"M331.329 566.55a7.454 7.454 0 00-1.649 2.903l-53.561 194.985a32.981 32.981 0 0032.057 41.754 31.398 31.398 0 008.443-1.187l194.787-52.77h.726a8.575 8.575 0 006.134-2.507l520.773-517.672a82.519 82.519 0 0024.01-59.366 100.725 100.725 0 00-30.342-70.844l-49.208-49.01a102.242 102.242 0 00-71.371-30.21 83.904 83.904 0 00-59.366 23.746L332.055 564.77c-.528.528 0 1.253-.726 1.78m656.985-384.824l-51.648 51.385-84.036-84.696 51.055-50.725c8.113-8.113 23.68-6.596 32.98 2.375l49.209 49.01a26.385 26.385 0 018.113 18.601 19.13 19.13 0 01-5.475 14.05M423.94 574.664l375.986-373.61 83.97 84.695-375.392 373.017zM355.405 725.85l27.177-98.944 72.558 72.56zm665.89-339.047a35.95 35.95 0 00-35.949 35.62v482.845a46.174 46.174 0 01-46.174 46.173H117.941a46.174 46.174 0 01-46.174-46.173V117.545a46.174 46.174 0 0146.174-46.174h528.886a35.752 35.752 0 100-71.107H112.136A112.136 112.136 0 000 112.4v798.145a112.136 112.136 0 00112.136 112.136h832.511a112.136 112.136 0 00112.532-112.136V422.423a35.95 35.95 0 00-35.95-35.62\"\n        ></path>\n      </svg>\n      <span>发布话题</span>\n    </a>\n    <a href=\"/article/create\" class=\"aside-actions-btn\">\n      <svg\n        viewBox=\"0 0 1034 1024\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        class=\"icon ic\"\n      >\n        <path\n          d=\"M978.15 494.17c-20.379 0-40.757 15.283-40.757 40.755v412.657H71.323V81.512H483.98c20.378 0 40.756-15.283 40.756-40.756 5.095-20.378-15.283-35.661-35.661-35.661H86.607C40.757 5.095 0 45.85 0 91.7v850.787C0 983.244 40.756 1024 86.607 1024h845.692c45.85 0 86.606-40.756 86.606-86.607V534.925c0-20.378-15.283-40.756-40.756-40.756z\"\n        ></path>\n        <path\n          d=\"M560.398 234.348c0 20.378 15.284 40.756 40.756 40.756H753.99V427.94c0 20.378 15.284 40.757 40.756 40.757s40.756-15.284 40.756-40.757V275.104h152.836c20.378 0 40.757-15.283 40.757-40.756s-15.284-40.756-40.757-40.756H835.502V40.756C835.502 20.378 820.22 0 794.746 0S753.99 15.284 753.99 40.756v152.836H601.154c-25.472 0-40.756 20.378-40.756 40.756z\"\n        ></path>\n      </svg>\n      <span>发表文章</span>\n    </a> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    currentNodeId: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    createTopicUrl() {\n      let url = '/topic/create'\n      if (this.currentNodeId) {\n        url += '?nodeId=' + this.currentNodeId\n      }\n      return url\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.aside-actions {\n  background: #fff;\n  display: flex;\n  text-align: center;\n  /*padding: 10px;*/\n\n  .aside-actions-btn {\n    display: flex;\n    color: #000;\n    position: relative;\n    margin: 0 auto;\n    padding: 0.375rem 0.75rem;\n    font-weight: 500;\n    font-size: 1rem;\n    /*line-height: 2;*/\n    border-radius: 0.25rem;\n    border: 1px solid transparent;\n    background-color: #fff;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    flex-direction: column;\n    align-items: center;\n    white-space: nowrap;\n    user-select: none;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n      border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n\n    span {\n      margin-top: 5px;\n    }\n    &:hover {\n      color: #535d72;\n      font-weight: 600;\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostBtns.vue?vue&type=template&id=2af0916a&scoped=true&\"\nimport script from \"./PostBtns.vue?vue&type=script&lang=js&\"\nexport * from \"./PostBtns.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2af0916a\",\n  \"3e909808\"\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"right-container\">\n    <post-btns v-if=\"isOwner\" />\n\n    <div class=\"widget\">\n      <div class=\"widget-header\">\n        {{ user.nickname }}\n      </div>\n      <div class=\"widget-content\">\n        <img :src=\"user.smallAvatar\" class=\"img-avatar\" />\n        <div v-if=\"user.description\" class=\"description\">\n          <p>{{ user.description }}</p>\n        </div>\n        <div class=\"score\">\n          <i class=\"iconfont icon-score\" />\n          <span>{{ user.score }}</span>\n          <a\n            v-if=\"isOwner\"\n            class=\"score-log\"\n            href=\"/user/scores\"\n            target=\"_blank\"\n            >积分详情&gt;&gt;</a\n          >\n        </div>\n        <ul v-if=\"isOwner\" class=\"operations\">\n          <li>\n            <i class=\"iconfont icon-edit\" />\n            <a href=\"/user/settings\">&nbsp;编辑资料</a>\n          </li>\n          <li>\n            <i class=\"iconfont icon-message\" />\n            <a href=\"/user/messages\">&nbsp;消息</a>\n          </li>\n          <li>\n            <i class=\"iconfont icon-favorites\" />\n            <a href=\"/user/favorites\">&nbsp;收藏</a>\n          </li>\n        </ul>\n        <ul v-if=\"isAdmin\" class=\"operations\">\n          <li v-if=\"user.forbidden\">\n            <i class=\"iconfont icon-forbidden\" />\n            <a @click=\"removeForbidden\">&nbsp;取消禁言</a>\n          </li>\n          <li v-else>\n            <i class=\"iconfont icon-forbidden\" />\n            <a @click=\"forbidden\">&nbsp;禁言</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- <div class=\"ad\">\n      <adsbygoogle ad-slot=\"1742173616\" />\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport PostBtns from '~/components/PostBtns'\nimport UserHelper from '~/common/UserHelper'\nexport default {\n  components: { PostBtns },\n  props: {\n    user: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.user.current\n    },\n    // 是否是主人态\n    isOwner() {\n      const current = this.$store.state.user.current\n      return this.user && current && this.user.id === current.id\n    },\n    isAdmin() {\n      return (\n        UserHelper.isOwner(this.currentUser) ||\n        UserHelper.isAdmin(this.currentUser)\n      )\n    }\n  },\n  methods: {\n    async forbidden() {\n      try {\n        await this.$axios.post('/api/user/forbidden', {\n          userId: this.user.id,\n          days: 7\n        })\n        this.user.forbidden = true\n        this.$toast.success('禁言成功')\n      } catch (e) {\n        this.$toast.error('禁言失败')\n      }\n    },\n    async removeForbidden() {\n      try {\n        await this.$axios.post('/api/user/forbidden', {\n          userId: this.user.id,\n          days: 0\n        })\n        this.user.forbidden = false\n        this.$toast.success('取消禁言成功')\n      } catch (e) {\n        this.$toast.error('取消禁言失败')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.img-avatar {\n  margin-top: 5px;\n  border: 1px dotted #eeeeee;\n  border-radius: 5%;\n}\n\n.description {\n  font-size: 14px;\n  padding: 5px 0 5px 5px;\n  // padding: 10px 15px;\n  // border: 1px dotted #eeeeee;\n  // border-left: 3px solid #eeeeee;\n  background-color: #fbfbfb;\n}\n\n.score {\n  span {\n    font-size: 15px;\n    font-weight: bold;\n    color: #3c3107;\n  }\n\n  .score-log {\n    color: #3273dc;\n    font-size: 75%;\n    margin-left: 5px;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n}\n\n.operations {\n  list-style: none;\n  margin-top: 8px;\n  margin-left: 0px;\n\n  li {\n    padding-left: 3px;\n\n    font-size: 13px;\n    &:hover {\n      cursor: pointer;\n      background-color: #fcf8e3;\n      color: #8a6d3b;\n      font-weight: bold;\n    }\n\n    a {\n      color: #3273dc;\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCenterSidebar.vue?vue&type=template&id=3d739100&scoped=true&\"\nimport script from \"./UserCenterSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCenterSidebar.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"3d739100\",\n  \"4754e832\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"article-list\"},[_vm._ssrNode((_vm._ssrList((_vm.articles),function(article,index){return (\"<li data-v-3cde4248>\"+((_vm.showAd && index !== 0 && index % 3 === 0)?(\"<div data-v-3cde4248></div>\"):\"<!---->\")+\" <article itemscope=\\\"itemscope\\\" itemtype=\\\"http://schema.org/BlogPosting\\\" class=\\\"article-item\\\" data-v-3cde4248><h1 itemprop=\\\"headline\\\" class=\\\"article-title\\\" data-v-3cde4248><a\"+(_vm._ssrAttr(\"href\",'/article/' + article.articleId))+\" data-v-3cde4248>\"+_vm._ssrEscape(_vm._s(article.title))+\"</a></h1> <div itemprop=\\\"description\\\" class=\\\"article-summary\\\" data-v-3cde4248>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(article.summary)+\"\\n      \")+\"</div> <div class=\\\"article-meta\\\" data-v-3cde4248><span class=\\\"article-meta-item\\\" data-v-3cde4248>\\n          由\\n          <a\"+(_vm._ssrAttr(\"href\",'/user/' + article.user.id))+\" itemprop=\\\"author\\\" itemscope=\\\"itemscope\\\" itemtype=\\\"http://schema.org/Person\\\" class=\\\"article-author\\\" data-v-3cde4248><span itemprop=\\\"name\\\" data-v-3cde4248>\"+_vm._ssrEscape(_vm._s(article.user.nickname))+\"</span></a>发布于\\n          <time\"+(_vm._ssrAttr(\"datetime\",_vm._f(\"formatDate\")(article.createTime,'yyyy-MM-ddTHH:mm:ss')))+\" itemprop=\\\"datePublished\\\" data-v-3cde4248>\"+_vm._ssrEscape(_vm._s(_vm._f(\"prettyDate\")(article.createTime)))+\"</time></span> \"+((article.tags && article.tags.length > 0)?(\"<span class=\\\"article-meta-item\\\" data-v-3cde4248>\"+(_vm._ssrList((article.tags),function(tag){return (\"<span class=\\\"article-tag tag\\\" data-v-3cde4248><a\"+(_vm._ssrAttr(\"href\",'/articles/' + tag.tagId))+\" data-v-3cde4248>\"+_vm._ssrEscape(_vm._s(tag.tagName))+\"</a></span>\")}))+\"</span>\"):\"<!---->\")+\" \"+((article.status === 2)?(\"<span class=\\\"article-meta-item\\\" data-v-3cde4248><a href=\\\"javascript:void(0)\\\" style=\\\"cursor: default; text-decoration: none; color: green; font-size: 12px\\\" data-v-3cde4248><i class=\\\"iconfont icon-shenhe\\\" data-v-3cde4248></i> 审核中</a></span>\"):\"<!---->\")+\"</div></article></li>\")})))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    articles: {\n      type: Array,\n      default() {\n        return []\n      },\n      required: false\n    },\n    showAd: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleList.vue?vue&type=template&id=3cde4248&scoped=true&\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"3cde4248\",\n  \"4e9e9d9f\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AADA;AAQA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AASA;AACA;AACA;AADA;AAGA;AACA;AA/CA;;ACjCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;;;;;;;;ACDA;AACA;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgCA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AANA;AAQA;AACA;AACA;AACA;AACA;AAJA;AATA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAlCA;AAmCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAGA;AACA;AA1BA;AApDA;;AClCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;AAPA;;ACrCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AA3BA;;AC5DA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AALA;AAOA;AACA;AACA;AAFA;AARA;AADA;;ACtEA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}