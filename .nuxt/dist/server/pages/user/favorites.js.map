{"version":3,"file":"pages/user/favorites.js","sources":["webpack:///./pages/user/favorites.vue?38e9","webpack:///./pages/user/favorites.vue?c002","webpack:///./pages/user/favorites.vue","webpack:///./pages/user/favorites.vue?1626","webpack:///./pages/user/favorites.vue?67bb","webpack:///./components/PostBtns.vue?a753","webpack:///./components/UserCenterSidebar.vue?4327","webpack:///./components/PostBtns.vue?1468","webpack:///./components/UserCenterSidebar.vue?967d","webpack:///./components/UserCenterSidebar.vue?8b42","webpack:///./components/PostBtns.vue?88b5","webpack:///./components/PostBtns.vue","webpack:///./components/PostBtns.vue?33ea","webpack:///./components/PostBtns.vue?2277","webpack:///./components/UserCenterSidebar.vue","webpack:///./components/UserCenterSidebar.vue?8a54","webpack:///./components/UserCenterSidebar.vue?f0dd","webpack:///./pages/user/favorites.vue?a0e6"],"sourcesContent":["import mod from \"-!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./favorites.vue?vue&type=style&index=0&id=dcf44f9a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./favorites.vue?vue&type=style&index=0&id=dcf44f9a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main\"},[_vm._ssrNode(\"<div class=\\\"container main-container is-white left-main\\\" data-v-dcf44f9a>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"left-container\\\" data-v-dcf44f9a><div class=\\\"widget\\\" data-v-dcf44f9a><div class=\\\"widget-header\\\" data-v-dcf44f9a><nav class=\\\"breadcrumb\\\" data-v-dcf44f9a><ul data-v-dcf44f9a><li data-v-dcf44f9a><a href=\\\"/\\\" data-v-dcf44f9a>首页</a></li> <li data-v-dcf44f9a><a\"+(_vm._ssrAttr(\"href\",'/user/' + _vm.currentUser.id))+\" data-v-dcf44f9a>\"+_vm._ssrEscape(_vm._s(_vm.currentUser.nickname))+\"</a></li> <li class=\\\"is-active\\\" data-v-dcf44f9a><a href=\\\"#\\\" aria-current=\\\"page\\\" data-v-dcf44f9a>收藏列表</a></li></ul></nav></div> <div class=\\\"widget-content\\\" data-v-dcf44f9a>\"+((_vm.favorites && _vm.favorites.length)?(\"<ul class=\\\"article-list\\\" data-v-dcf44f9a>\"+(_vm._ssrList((_vm.favorites),function(favorite){return (\"<li data-v-dcf44f9a>\"+((favorite.deleted)?(\"<article class=\\\"article-item\\\" data-v-dcf44f9a><div class=\\\"article-summary\\\" data-v-dcf44f9a>\\n                  收藏内容失效!!!\\n                </div></article>\"):(\"<article class=\\\"article-item\\\" data-v-dcf44f9a><div class=\\\"article-title\\\" data-v-dcf44f9a><a\"+(_vm._ssrAttr(\"href\",favorite.url))+\" data-v-dcf44f9a>\"+_vm._ssrEscape(_vm._s(favorite.title))+\"</a></div> <div class=\\\"article-summary\\\" data-v-dcf44f9a>\"+_vm._ssrEscape(\"\\n                  \"+_vm._s(favorite.content)+\"\\n                \")+\"</div> <div class=\\\"article-meta\\\" data-v-dcf44f9a><span class=\\\"article-meta-item\\\" data-v-dcf44f9a><a\"+(_vm._ssrAttr(\"href\",'/user/' + favorite.user.id))+\" data-v-dcf44f9a>\"+_vm._ssrEscape(_vm._s(favorite.user.nickname))+\"</a></span> <span class=\\\"article-meta-item\\\" data-v-dcf44f9a><time data-v-dcf44f9a>\"+_vm._ssrEscape(_vm._s(_vm._f(\"prettyDate\")(favorite.createTime)))+\"</time></span></div></article>\"))+\"</li>\")}))+\" \"+((_vm.hasMore)?(\"<li class=\\\"more\\\" data-v-dcf44f9a><a data-v-dcf44f9a>查看更多&gt;&gt;</a></li>\"):\"<!---->\")+\"</ul>\"):\"<!---->\")+\"</div></div></div> \"),_c('user-center-sidebar',{attrs:{\"user\":_vm.currentUser}})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport UserCenterSidebar from '~/components/UserCenterSidebar'\nexport default {\n  middleware: 'authenticated',\n  components: {\n    UserCenterSidebar\n  },\n  async asyncData({ $axios, params }) {},\n  data() {\n    return {\n      favorites: [],\n      cursor: 0,\n      hasMore: true\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.user.current\n    }\n  },\n  mounted() {\n    this.list()\n  },\n  methods: {\n    async list() {\n      const ret = await this.$axios.get('/api/user/favorites', {\n        params: {\n          cursor: this.cursor\n        }\n      })\n      if (ret.results && ret.results.length) {\n        this.favorites = this.favorites.concat(ret.results)\n      } else {\n        this.hasMore = false\n      }\n      this.cursor = ret.cursor\n    }\n  }\n}\n","import mod from \"-!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./favorites.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./favorites.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./favorites.vue?vue&type=template&id=dcf44f9a&scoped=true&\"\nimport script from \"./favorites.vue?vue&type=script&lang=js&\"\nexport * from \"./favorites.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./favorites.vue?vue&type=style&index=0&id=dcf44f9a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"dcf44f9a\",\n  \"1aa88cc2\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right-container\"},[(_vm.isOwner)?_c('post-btns'):_vm._e(),_vm._ssrNode(\" <div class=\\\"widget\\\" data-v-3d739100><div class=\\\"widget-header\\\" data-v-3d739100>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.user.nickname)+\"\\n    \")+\"</div> <div class=\\\"widget-content\\\" data-v-3d739100><img\"+(_vm._ssrAttr(\"src\",_vm.user.smallAvatar))+\" class=\\\"img-avatar\\\" data-v-3d739100> \"+((_vm.user.description)?(\"<div class=\\\"description\\\" data-v-3d739100><p data-v-3d739100>\"+_vm._ssrEscape(_vm._s(_vm.user.description))+\"</p></div>\"):\"<!---->\")+\" <div class=\\\"score\\\" data-v-3d739100><i class=\\\"iconfont icon-score\\\" data-v-3d739100></i> <span data-v-3d739100>\"+_vm._ssrEscape(_vm._s(_vm.user.score))+\"</span> \"+((_vm.isOwner)?(\"<a href=\\\"/user/scores\\\" target=\\\"_blank\\\" class=\\\"score-log\\\" data-v-3d739100>积分详情&gt;&gt;</a>\"):\"<!---->\")+\"</div> \"+((_vm.isOwner)?(\"<ul class=\\\"operations\\\" data-v-3d739100><li data-v-3d739100><i class=\\\"iconfont icon-edit\\\" data-v-3d739100></i> <a href=\\\"/user/settings\\\" data-v-3d739100> 编辑资料</a></li> <li data-v-3d739100><i class=\\\"iconfont icon-message\\\" data-v-3d739100></i> <a href=\\\"/user/messages\\\" data-v-3d739100> 消息</a></li> <li data-v-3d739100><i class=\\\"iconfont icon-favorites\\\" data-v-3d739100></i> <a href=\\\"/user/favorites\\\" data-v-3d739100> 收藏</a></li></ul>\"):\"<!---->\")+\" \"+((_vm.isAdmin)?(\"<ul class=\\\"operations\\\" data-v-3d739100>\"+((_vm.user.forbidden)?(\"<li data-v-3d739100><i class=\\\"iconfont icon-forbidden\\\" data-v-3d739100></i> <a data-v-3d739100> 取消禁言</a></li>\"):(\"<li data-v-3d739100><i class=\\\"iconfont icon-forbidden\\\" data-v-3d739100></i> <a data-v-3d739100> 禁言</a></li>\"))+\"</ul>\"):\"<!---->\")+\"</div></div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aside-actions\"},[])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    currentNodeId: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    createTopicUrl() {\n      let url = '/topic/create'\n      if (this.currentNodeId) {\n        url += '?nodeId=' + this.currentNodeId\n      }\n      return url\n    }\n  }\n}\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./PostBtns.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostBtns.vue?vue&type=template&id=2af0916a&scoped=true&\"\nimport script from \"./PostBtns.vue?vue&type=script&lang=js&\"\nexport * from \"./PostBtns.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./PostBtns.vue?vue&type=style&index=0&id=2af0916a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2af0916a\",\n  \"3e909808\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PostBtns from '~/components/PostBtns'\nimport UserHelper from '~/common/UserHelper'\nexport default {\n  components: { PostBtns },\n  props: {\n    user: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.user.current\n    },\n    // 是否是主人态\n    isOwner() {\n      const current = this.$store.state.user.current\n      return this.user && current && this.user.id === current.id\n    },\n    isAdmin() {\n      return (\n        UserHelper.isOwner(this.currentUser) ||\n        UserHelper.isAdmin(this.currentUser)\n      )\n    }\n  },\n  methods: {\n    async forbidden() {\n      try {\n        await this.$axios.post('/api/user/forbidden', {\n          userId: this.user.id,\n          days: 7\n        })\n        this.user.forbidden = true\n        this.$toast.success('禁言成功')\n      } catch (e) {\n        this.$toast.error('禁言失败')\n      }\n    },\n    async removeForbidden() {\n      try {\n        await this.$axios.post('/api/user/forbidden', {\n          userId: this.user.id,\n          days: 0\n        })\n        this.user.forbidden = false\n        this.$toast.success('取消禁言成功')\n      } catch (e) {\n        this.$toast.error('取消禁言失败')\n      }\n    }\n  }\n}\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./UserCenterSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCenterSidebar.vue?vue&type=template&id=3d739100&scoped=true&\"\nimport script from \"./UserCenterSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCenterSidebar.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./UserCenterSidebar.vue?vue&type=style&index=0&id=3d739100&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"3d739100\",\n  \"4754e832\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAdA;AArBA;;AC9DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;;;;;;;;ACDA;AACA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;AAPA;;ACrCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AA3BA;;AC5DA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;;;;;A","sourceRoot":""}