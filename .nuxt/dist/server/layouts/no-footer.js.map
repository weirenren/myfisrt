{"version":3,"file":"layouts/no-footer.js","sources":["webpack:///./components/MsgNotice.vue?092c","webpack:///./components/MyNav.vue?94d1","webpack:///./components/MyNav.vue?2cc3","webpack:///./components/MsgNotice.vue?e4e6","webpack:///MsgNotice.vue","webpack:///./components/MsgNotice.vue?4dde","webpack:///./components/MsgNotice.vue","webpack:///./components/MyNav.vue","webpack:///./components/MyNav.vue?357e","webpack:///./components/MyNav.vue?0700","webpack:///./layouts/no-footer.vue?c303","webpack:///no-footer.vue","webpack:///./layouts/no-footer.vue?8516","webpack:///./layouts/no-footer.vue","webpack:///./common/utils.js","webpack:///./components/MsgNotice.vue?a4aa","webpack:///./components/MyNav.vue?be81"],"sourcesContent":["import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MsgNotice.vue?vue&type=style&index=0&id=5f1a43d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MsgNotice.vue?vue&type=style&index=0&id=5f1a43d8&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyNav.vue?vue&type=style&index=0&id=7c6d935e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-1!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyNav.vue?vue&type=style&index=0&id=7c6d935e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"parent-container\"},[_vm._ssrNode(\"<div class=\\\"navBarWrap\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<nav role=\\\"navigation\\\" aria-label=\\\"main navigation\\\" class=\\\"navbar has-shadow\\\" data-v-7c6d935e>\",\"</nav>\",[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"navbar-brand navbar-full\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"navbar-between\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"navbar-title\\\" data-v-7c6d935e><a href=\\\"/\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><img alt=\\\"90社区\\\"\"+(_vm._ssrAttr(\"src\",require(\"assets/images/logo.png\")))+\" data-v-7c6d935e></a> <a\"+(_vm._ssrClass(null,_vm.activiePath === '/tweets' || _vm.activiePath === '/tweet'\n                    ? 'navbar-item navbar-active'\n                    : 'navbar-item'))+\" data-v-7c6d935e>动态</a> <a\"+(_vm._ssrClass(null,_vm.activiePath === '/tiaojis'\n                    ? 'navbar-item navbar-active'\n                    : 'navbar-item'))+\" data-v-7c6d935e>考研调剂</a> <a\"+(_vm._ssrClass(null,_vm.activiePath === '/love'\n                    ? 'navbar-item navbar-active'\n                    : 'navbar-item'))+\" data-v-7c6d935e>交友</a></div> \"),_vm._ssrNode(\"<div class=\\\"navbar-control\\\" data-v-7c6d935e>\",\"</div>\",[(_vm.showCityComponent)?_vm._ssrNode(\"<div class=\\\"navbar-item \\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"select is-small \\\" data-v-7c6d935e>\",\"</div>\",[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCity),expression:\"selectedCity\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCity=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.selectCity]}},_vm._l((_vm.city_list),function(cn){return _c('option',{key:cn,domProps:{\"value\":cn}},[_vm._v(_vm._s(cn))])}),0)])]):_vm._e(),_vm._ssrNode(\" \"),(_vm.user)?_c('msg-notice'):_vm._e(),_vm._ssrNode(\" \"),(!_vm.navbarActive)?_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"navbar-menu\",{ 'is-active': _vm.navbarActive }))+\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"navbar-start\\\" data-v-7c6d935e>\",\"</div>\",[(_vm.user)?_vm._ssrNode(\"<div class=\\\"navbar-item has-dropdown is-hoverable\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",'/user/' + _vm.user.id))+\" class=\\\"navbar-link\\\" data-v-7c6d935e><strong data-v-7c6d935e>\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</strong></a> <div class=\\\"navbar-dropdown\\\" data-v-7c6d935e><a href=\\\"/love/create\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-topic\\\" data-v-7c6d935e></i> 发表交友贴\\n                      </a> <a href=\\\"/user/favorites\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-favorites\\\" data-v-7c6d935e></i> 我的收藏\\n                      </a> <a href=\\\"/user/settings\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-username\\\" data-v-7c6d935e></i> 编辑资料\\n                      </a> \"+((_vm.isOwnerOrAdmin)?(\"<a href=\\\"/admin\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-dashboard\\\" data-v-7c6d935e></i> 后台管理\\n                      </a>\"):\"<!---->\")+\" <a class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-log-out\\\" data-v-7c6d935e></i> 退出登录\\n                      </a></div>\")],2):_vm._ssrNode(\"<div class=\\\"navbar-item\\\" data-v-7c6d935e>\",\"</div>\",[_c('nuxt-link',{staticClass:\"button is-success\",attrs:{\"to\":\"/user/signin\"}},[_vm._v(\"\\n                      登录\\n                    \")])],1)])]):_vm._e()],2)],2),_vm._ssrNode(\" <a data-target=\\\"navbarBasic\\\"\"+(_vm._ssrClass(\"navbar-burger burger\",{ 'is-active': _vm.navbarActive }))+\" data-v-7c6d935e><span aria-hidden=\\\"true\\\" data-v-7c6d935e></span> <span aria-hidden=\\\"true\\\" data-v-7c6d935e></span> <span aria-hidden=\\\"true\\\" data-v-7c6d935e></span></a>\")],2),_vm._ssrNode(\" \"),(_vm.navbarActive)?_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"navbar-menu\",{ 'is-active': _vm.navbarActive }))+\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"navbar-start\\\" data-v-7c6d935e>\",\"</div>\",[(_vm.user)?_vm._ssrNode(\"<div class=\\\"navbar-item has-dropdown is-hoverable\\\" data-v-7c6d935e>\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",'/user/' + _vm.user.id))+\" class=\\\"navbar-link\\\" data-v-7c6d935e><strong data-v-7c6d935e>\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</strong></a> <div class=\\\"navbar-dropdown\\\" data-v-7c6d935e><a href=\\\"/love/create\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-topic\\\" data-v-7c6d935e></i> 发表交友贴\\n                </a> <a href=\\\"/user/favorites\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-favorites\\\" data-v-7c6d935e></i> 我的收藏\\n                </a> <a href=\\\"/user/settings\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-username\\\" data-v-7c6d935e></i> 编辑资料\\n                </a> \"+((_vm.isOwnerOrAdmin)?(\"<a href=\\\"/admin\\\" class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-dashboard\\\" data-v-7c6d935e></i> 后台管理\\n                </a>\"):\"<!---->\")+\" <a class=\\\"navbar-item\\\" data-v-7c6d935e><i class=\\\"iconfont icon-log-out\\\" data-v-7c6d935e></i> 退出登录\\n                </a></div>\")],2):_vm._ssrNode(\"<div class=\\\"navbar-item\\\" data-v-7c6d935e>\",\"</div>\",[_c('nuxt-link',{staticClass:\"button is-success\",attrs:{\"to\":\"/user/signin\"}},[_vm._v(\"\\n                登录\\n              \")])],1)])]):_vm._e()],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar-item dropdown is-hoverable is-right msg-notice\"},[_vm._ssrNode(\"<div class=\\\"dropdown-trigger\\\" data-v-5f1a43d8><a href=\\\"/user/messages\\\" title=\\\"消息\\\"\"+(_vm._ssrClass(\"msgicon\",{ 'msg-flicker': _vm.msgcount > 0 }))+\" data-v-5f1a43d8><i class=\\\"iconfont icon-bell\\\" data-v-5f1a43d8></i> \"+((_vm.msgcount > 0)?(\"<sup data-v-5f1a43d8>\"+_vm._ssrEscape(_vm._s(_vm.msgcount > 9 ? '9+' : _vm.msgcount))+\"</sup>\"):\"<!---->\")+\"</a></div> \"+((_vm.messages && _vm.messages.length)?(\"<div class=\\\"dropdown-menu\\\" data-v-5f1a43d8><div class=\\\"dropdown-content msglist-wrapper\\\" data-v-5f1a43d8><div class=\\\"msglist\\\" data-v-5f1a43d8><ul data-v-5f1a43d8>\"+(_vm._ssrList((_vm.messages),function(msg){return (\"<li class=\\\"msg-item\\\" data-v-5f1a43d8><a href=\\\"/user/messages\\\" data-v-5f1a43d8>\"+_vm._ssrEscape(_vm._s(msg.content))+\"</a></li>\")}))+\"</ul></div> <div class=\\\"msgfooter\\\" data-v-5f1a43d8><a href=\\\"/user/messages\\\" data-v-5f1a43d8>消息中心&gt;&gt;</a></div></div></div>\"):\"<!---->\"))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"navbar-item dropdown is-hoverable is-right msg-notice\">\n    <div class=\"dropdown-trigger\">\n      <a\n        :class=\"{ 'msg-flicker': msgcount > 0 }\"\n        href=\"/user/messages\"\n        class=\"msgicon\"\n        title=\"消息\"\n      >\n        <i class=\"iconfont icon-bell\"></i>\n        <sup v-if=\"msgcount > 0\">{{ msgcount > 9 ? '9+' : msgcount }}</sup>\n      </a>\n    </div>\n    <div v-if=\"messages && messages.length\" class=\"dropdown-menu\">\n      <div class=\"dropdown-content msglist-wrapper\">\n        <div class=\"msglist\">\n          <ul>\n            <li v-for=\"msg in messages\" :key=\"msg.messageId\" class=\"msg-item\">\n              <a href=\"/user/messages\">{{ msg.content }}</a>\n            </li>\n          </ul>\n        </div>\n        <div class=\"msgfooter\">\n          <a href=\"/user/messages\">消息中心&gt;&gt;</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      msgcount: 0,\n      messages: []\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.current\n    }\n  },\n  mounted() {\n    this.getMsgcount()\n  },\n  methods: {\n    async getMsgcount() {\n      if (this.user) {\n        const ret = await this.$axios.get('/api/user/msgrecent')\n        this.msgcount = ret.count\n        this.messages = ret.messages\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.msg-notice {\n  .msgicon {\n    font-size: 16px;\n    color: #000;\n\n    &:hover {\n      color: red;\n    }\n  }\n\n  // 闪烁\n  .msg-flicker {\n    // animation: msgnotice 1s 3;\n    animation: msgnotice 1s infinite;\n  }\n\n  @keyframes msgnotice {\n    50% {\n      // color: transparent;\n      color: red;\n    }\n  }\n\n  .msglist-wrapper {\n    padding: 5px 10px;\n    .msglist {\n      .msg-item {\n        padding: 3px 0;\n        font-size: 12px;\n        line-height: 21px;\n        overflow: hidden;\n        word-break: break-all;\n        -webkit-line-clamp: 1;\n        text-overflow: ellipsis;\n        -webkit-box-orient: vertical;\n        display: -webkit-box;\n        &:not(:last-child) {\n          border-bottom: 1px solid #f7f7f7;\n        }\n      }\n    }\n    .msgfooter {\n      border-top: 1px solid #f7f7f7;\n      text-align: right;\n      a {\n        font-size: 13px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MsgNotice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MsgNotice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MsgNotice.vue?vue&type=template&id=5f1a43d8&scoped=true&\"\nimport script from \"./MsgNotice.vue?vue&type=script&lang=js&\"\nexport * from \"./MsgNotice.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MsgNotice.vue?vue&type=style&index=0&id=5f1a43d8&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5f1a43d8\",\n  \"3afe4ae4\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Cookies from 'js-cookie'\n\nimport utils from '~/common/utils'\nimport UserHelper from '~/common/UserHelper'\nimport MsgNotice from '~/components/MsgNotice'\n\nexport default {\n  components: {\n    MsgNotice\n  },\n  data() {\n    return {\n      selectedCity: '北京',\n      navbarActive: false,\n      showCityComponent: true,\n      activiePath: '',\n      city_list: [],\n      navBarFixed: false\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.current\n    },\n    isOwnerOrAdmin() {\n      return UserHelper.isOwner(this.user) || UserHelper.isAdmin(this.user)\n    },\n    config() {\n      return this.$store.state.config.config\n    }\n  },\n  mounted() {\n    this.city_list = utils.getCityList()\n    const city = Cookies.get('city')\n    if (city) {\n      this.selectedCity = city\n    } else {\n      this.selectedCity = '北京'\n      Cookies.set('city', this.selectedCity)\n    }\n\n    this.refreshPathShow(this.$route.path)\n\n    window.addEventListener('scroll', this.watchScroll)\n  },\n  methods: {\n    async signout() {\n      try {\n        await this.$store.dispatch('user/signout')\n        utils.linkTo('/')\n      } catch (e) {\n        console.error(e)\n      }\n    },\n    watchScroll() {\n      const scrollTop =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop\n      //  当滚动超过 50 时，实现吸顶效果\n      if (scrollTop > 49) {\n        this.navBarFixed = true\n      } else {\n        this.navBarFixed = false\n      }\n    },\n    selectCity(event) {\n      // console.log(event)\n      // console.log('selectedCity:' + this.selectedCity)\n      Cookies.set('city', this.selectedCity)\n      this.$toast.success('切换城市成功，可以点击刷新')\n      location.reload()\n      // console.log('selectCity:' + Cookies.get('city'))\n    },\n    toggleNav() {\n      this.navbarActive = !this.navbarActive\n    },\n    clickNav(path) {\n      this.refreshPathShow(path)\n      this.$router.push({ path })\n    },\n    refreshPathShow(path) {\n      if (path) {\n        const activePath = this.getActivePath(path)\n        // console.log('activePath:' + activePath)\n        if (activePath === '/rents') {\n          this.showCityComponent = true\n        } else {\n          this.showCityComponent = false\n        }\n        this.activiePath = activePath\n      }\n    },\n    getActivePath(path) {\n      if (path) {\n        const arr = path.split('/')\n        if (arr.length >= 2) {\n          return arr[0] + '/' + arr[1]\n        }\n      }\n    }\n  }\n}\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyNav.vue?vue&type=template&id=7c6d935e&scoped=true&\"\nimport script from \"./MyNav.vue?vue&type=script&lang=js&\"\nexport * from \"./MyNav.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MyNav.vue?vue&type=style&index=0&id=7c6d935e&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"7c6d935e\",\n  \"c59c08fc\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('my-nav'),_vm._ssrNode(\" \"),_c('nuxt')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <my-nav />\n    <nuxt />\n  </div>\n</template>\n\n<script>\nimport MyNav from '~/components/MyNav'\n\nexport default {\n  components: {\n    MyNav\n  }\n}\n</script>\n","import mod from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./no-footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./no-footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./no-footer.vue?vue&type=template&id=a4eb84ec&\"\nimport script from \"./no-footer.vue?vue&type=script&lang=js&\"\nexport * from \"./no-footer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"cd32db66\"\n  \n)\n\nexport default component.exports","import Cookies from 'js-cookie'\nclass Utils {\n  getCity() {\n    // Cookies.get('city')\n    const city = Cookies.get('city')\n    if (city !== undefined) {\n      return city\n    }\n    return '北京'\n  }\n\n  setCity(city) {\n    return Cookies.set('city', city)\n  }\n\n  linkTo(path) {\n    window.location = path\n    // 这里使用$router.push会导致跳转页面之后window.vditor对象undefined，原因未知\n    // window.$nuxt.$router.push(path)\n  }\n\n  toSignin(ref) {\n    if (!ref && process.client) {\n      // 如果没配置refUrl，那么取当前地址\n      ref = window.location.pathname\n    }\n    this.linkTo('/user/signin?ref=' + encodeURIComponent(ref))\n  }\n\n  isSigninUrl(ref) {\n    return ref === '/user/signin'\n  }\n\n  isArray(sources) {\n    return Object.prototype.toString.call(sources) === '[object Array]'\n  }\n\n  isDate(sources) {\n    return (\n      {}.toString.call(sources) === '[object Date]' &&\n      sources.toString() !== 'Invalid Date' &&\n      !isNaN(sources)\n    )\n  }\n\n  isElement(sources) {\n    return !!(sources && sources.nodeName && sources.nodeType === 1)\n  }\n\n  isFunction(sources) {\n    return Object.prototype.toString.call(sources) === '[object Function]'\n  }\n\n  unique(arr) {\n    return arr.filter((item, index, arr) => {\n      return arr.indexOf(item, 0) === index\n    })\n  }\n\n  isNumber(sources) {\n    return (\n      Object.prototype.toString.call(sources) === '[object Number]' &&\n      isFinite(sources)\n    )\n  }\n\n  isObject(sources) {\n    return Object.prototype.toString.call(sources) === '[object Object]'\n  }\n\n  isString(sources) {\n    return Object.prototype.toString.call(sources) === '[object String]'\n  }\n\n  isBoolean(sources) {\n    return typeof sources === 'boolean'\n  }\n\n  getCityList() {\n    return ['北京', '上海', '深圳', '武汉', '杭州']\n  }\n\n  isEmpty(content) {\n    const str = content\n    if (str === '' || str === undefined) return true\n    const regu = '^[ ]+$'\n    const re = new RegExp(regu)\n    return re.test(str)\n  }\n\n  getTopText(topType) {\n    if (topType === 1) {\n      return '顶'\n    }\n\n    if (topType === 2) {\n      return '火'\n    }\n\n    if (topType === 3) {\n      return '精华'\n    }\n    return ''\n  }\n\n  formatDate(timestamp, fmt) {\n    fmt = fmt || 'yyyy-MM-dd HH:mm:ss'\n    const date = new Date(timestamp)\n    const o = {\n      'M+': date.getMonth() + 1,\n      'd+': date.getDate(),\n      'h+': date.getHours() % 12,\n      'H+': date.getHours(),\n      'm+': date.getMinutes(),\n      's+': date.getSeconds(),\n      'q+': Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds()\n    }\n    if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        (date.getFullYear() + '').substr(4 - RegExp.$1.length)\n      )\n    }\n    for (const k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length === 1\n            ? o[k]\n            : ('00' + o[k]).substr(('' + o[k]).length)\n        )\n      }\n    }\n    return fmt\n  }\n\n  prettyDate(timestamp) {\n    const minute = 1000 * 60\n    const hour = minute * 60\n    const day = hour * 24\n    const diffValue = new Date().getTime() - timestamp\n    if (diffValue / minute < 1) {\n      return '刚刚'\n    } else if (diffValue / minute < 60) {\n      return parseInt(diffValue / minute) + '分钟前'\n    } else if (diffValue / hour <= 24) {\n      return parseInt(diffValue / hour) + '小时前'\n    } else if (diffValue / day <= 30) {\n      return parseInt(diffValue / day) + '天前'\n    }\n    return Utils.formatDate(timestamp, 'yyyy-MM-dd HH:mm:ss')\n  }\n}\nexport default new Utils()\n","// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6BA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAfA;;AC/BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAVA;AACA;AAUA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAxDA;AAvCA;;AClMA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;;;;;;;;;;;;;;;ACMA;AAEA;AACA;AACA;AADA;AADA;;ACVA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AASA;AACA;AAIA;AACA;AAAA;AACA;AACA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAxJA;AACA;AAwJA;;;;;;;AC1JA;AACA;;;;;;;;ACDA;AACA;;;;;A","sourceRoot":""}