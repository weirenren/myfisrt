{"version":3,"file":"pages/admin/users/score-log.js","sources":["webpack:///./pages/admin/users/score-log.vue?dfd4","webpack:///./pages/admin/users/score-log.vue","webpack:///./pages/admin/users/score-log.vue?631d","webpack:///./pages/admin/users/score-log.vue?1422"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isShowLog)?_c('el-dialog',{attrs:{\"visible\":_vm.isShowLog,\"width\":\"80%\",\"title\":\"积分记录\"},on:{\"update:visible\":function($event){_vm.isShowLog=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.results,\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sourceType\",\"label\":\"来源类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sourceId\",\"label\":\"来源编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.type === 0 ? '增加' : '减少'))]}}],null,false,569092045)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"积分\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.createTime)))]}}],null,false,1255221282)})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagebar\"},[_c('el-pagination',{attrs:{\"page-sizes\":[20, 50, 100, 300],\"current-page\":_vm.page.page,\"page-size\":_vm.page.limit,\"total\":_vm.page.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"current-change\":_vm.handlePageChange,\"size-change\":_vm.handleLimitChange}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      isShowLog: false,\n      userId: 0,\n      results: [],\n      listLoading: false,\n      page: {},\n      filters: {}\n    }\n  },\n  mounted() {},\n  methods: {\n    async showLog(userId) {\n      this.userId = userId\n      this.isShowLog = true\n      await this.list()\n    },\n    async list() {\n      this.listLoading = true\n      const params = Object.assign(this.filters, {\n        page: this.page.page,\n        limit: this.page.limit\n      })\n      params.userId = this.userId\n      try {\n        const data = await this.$axios.post(\n          '/api/admin/user-score-log/list',\n          params\n        )\n        this.results = data.results\n        this.page = data.page\n      } catch (err) {\n        this.$notify.error({ title: '错误', message: err.message || err })\n      } finally {\n        this.listLoading = false\n      }\n    },\n    handlePageChange(val) {\n      this.page.page = val\n      this.list()\n    },\n    handleLimitChange(val) {\n      this.page.limit = val\n      this.list()\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./score-log.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--2-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./score-log.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./score-log.vue?vue&type=template&id=2990df6b&scoped=true&\"\nimport script from \"./score-log.vue?vue&type=script&lang=js&\"\nexport * from \"./score-log.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2990df6b\",\n  \"a63982ba\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAlCA;AAZA;;AC/CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}